(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Fu={exports:{}},ii={},Bu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=Symbol.for("react.element"),Nh=Symbol.for("react.portal"),Ch=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Ah=Symbol.for("react.memo"),$h=Symbol.for("react.lazy"),pl=Symbol.iterator;function Dh(t){return t===null||typeof t!="object"?null:(t=pl&&t[pl]||t["@@iterator"],typeof t=="function"?t:null)}var Wu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,Hu={};function Br(t,e,r){this.props=t,this.context=e,this.refs=Hu,this.updater=r||Wu}Br.prototype.isReactComponent={};Br.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Br.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qu(){}qu.prototype=Br.prototype;function pa(t,e,r){this.props=t,this.context=e,this.refs=Hu,this.updater=r||Wu}var ga=pa.prototype=new qu;ga.constructor=pa;Vu(ga,Br.prototype);ga.isPureReactComponent=!0;var gl=Array.isArray,Ku=Object.prototype.hasOwnProperty,ma={current:null},Gu={key:!0,ref:!0,__self:!0,__source:!0};function Qu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ku.call(e,n)&&!Gu.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Fn,type:t,key:i,ref:o,props:s,_owner:ma.current}}function Uh(t,e){return{$$typeof:Fn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ya(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fn}function zh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ml=/\/+/g;function Ni(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zh(""+t.key):e.toString(36)}function ws(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fn:case Nh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ni(o,0):n,gl(s)?(r="",t!=null&&(r=t.replace(ml,"$&/")+"/"),ws(s,e,r,"",function(c){return c})):s!=null&&(ya(s)&&(s=Uh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ml,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",gl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Ni(i,a);o+=ws(i,e,r,l,s)}else if(l=Dh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Ni(i,a++),o+=ws(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xn(t,e,r){if(t==null)return t;var n=[],s=0;return ws(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Mh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _e={current:null},xs={transition:null},Fh={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:xs,ReactCurrentOwner:ma};function Ju(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Xn,forEach:function(t,e,r){Xn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xn(t,function(){e++}),e},toArray:function(t){return Xn(t,function(e){return e})||[]},only:function(t){if(!ya(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Br;$.Fragment=Ch;$.Profiler=Ph;$.PureComponent=pa;$.StrictMode=Th;$.Suspense=Rh;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fh;$.act=Ju;$.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ma.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ku.call(e,l)&&!Gu.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Fn,type:t.type,key:s,ref:i,props:n,_owner:o}};$.createContext=function(t){return t={$$typeof:Lh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Oh,_context:t},t.Consumer=t};$.createElement=Qu;$.createFactory=function(t){var e=Qu.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Ih,render:t}};$.isValidElement=ya;$.lazy=function(t){return{$$typeof:$h,_payload:{_status:-1,_result:t},_init:Mh}};$.memo=function(t,e){return{$$typeof:Ah,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=xs.transition;xs.transition={};try{t()}finally{xs.transition=e}};$.unstable_act=Ju;$.useCallback=function(t,e){return _e.current.useCallback(t,e)};$.useContext=function(t){return _e.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return _e.current.useDeferredValue(t)};$.useEffect=function(t,e){return _e.current.useEffect(t,e)};$.useId=function(){return _e.current.useId()};$.useImperativeHandle=function(t,e,r){return _e.current.useImperativeHandle(t,e,r)};$.useInsertionEffect=function(t,e){return _e.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return _e.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return _e.current.useMemo(t,e)};$.useReducer=function(t,e,r){return _e.current.useReducer(t,e,r)};$.useRef=function(t){return _e.current.useRef(t)};$.useState=function(t){return _e.current.useState(t)};$.useSyncExternalStore=function(t,e,r){return _e.current.useSyncExternalStore(t,e,r)};$.useTransition=function(){return _e.current.useTransition()};$.version="18.3.1";Bu.exports=$;var P=Bu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=P,Wh=Symbol.for("react.element"),Vh=Symbol.for("react.fragment"),Hh=Object.prototype.hasOwnProperty,qh=Bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kh={key:!0,ref:!0,__self:!0,__source:!0};function Yu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Hh.call(e,n)&&!Kh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Wh,type:t,key:i,ref:o,props:s,_owner:qh.current}}ii.Fragment=Vh;ii.jsx=Yu;ii.jsxs=Yu;Fu.exports=ii;var u=Fu.exports,Xu={exports:{}},Ie={},Zu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var R=T.length;T.push(I);e:for(;0<R;){var Z=R-1>>>1,oe=T[Z];if(0<s(oe,I))T[Z]=I,T[R]=oe,R=Z;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],R=T.pop();if(R!==I){T[0]=R;e:for(var Z=0,oe=T.length,Jn=oe>>>1;Z<Jn;){var Mt=2*(Z+1)-1,Ei=T[Mt],Ft=Mt+1,Yn=T[Ft];if(0>s(Ei,R))Ft<oe&&0>s(Yn,Ei)?(T[Z]=Yn,T[Ft]=R,Z=Ft):(T[Z]=Ei,T[Mt]=R,Z=Mt);else if(Ft<oe&&0>s(Yn,R))T[Z]=Yn,T[Ft]=R,Z=Ft;else break e}}return I}function s(T,I){var R=T.sortIndex-I.sortIndex;return R!==0?R:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,m=3,v=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=T)n(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(c)}}function y(T){if(S=!1,g(T),!w)if(r(l)!==null)w=!0,ar(x);else{var I=r(c);I!==null&&nt(y,I.startTime-T)}}function x(T,I){w=!1,S&&(S=!1,p(E),E=-1),v=!0;var R=m;try{for(g(I),h=r(l);h!==null&&(!(h.expirationTime>I)||T&&!M());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var oe=Z(h.expirationTime<=I);I=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(l)&&n(l),g(I)}else n(l);h=r(l)}if(h!==null)var Jn=!0;else{var Mt=r(c);Mt!==null&&nt(y,Mt.startTime-I),Jn=!1}return Jn}finally{h=null,m=R,v=!1}}var _=!1,j=null,E=-1,D=5,O=-1;function M(){return!(t.unstable_now()-O<D)}function he(){if(j!==null){var T=t.unstable_now();O=T;var I=!0;try{I=j(!0,T)}finally{I?N():(_=!1,j=null)}}else _=!1}var N;if(typeof f=="function")N=function(){f(he)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,fe=K.port2;K.port1.onmessage=he,N=function(){fe.postMessage(null)}}else N=function(){k(he,0)};function ar(T){j=T,_||(_=!0,N())}function nt(T,I){E=k(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,ar(x))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var R=m;m=I;try{return T()}finally{m=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=m;m=T;try{return I()}finally{m=R}},t.unstable_scheduleCallback=function(T,I,R){var Z=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Z+R:Z):R=Z,T){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=R+oe,T={id:d++,callback:I,priorityLevel:T,startTime:R,expirationTime:oe,sortIndex:-1},R>Z?(T.sortIndex=R,e(c,T),r(l)===null&&T===r(c)&&(S?(p(E),E=-1):S=!0,nt(y,R-Z))):(T.sortIndex=oe,e(l,T),w||v||(w=!0,ar(x))),T},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(T){var I=m;return function(){var R=m;m=I;try{return T.apply(this,arguments)}finally{m=R}}}})(ec);Zu.exports=ec;var Gh=Zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=P,Le=Gh;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tc=new Set,_n={};function sr(t,e){Rr(t,e),Rr(t+"Capture",e)}function Rr(t,e){for(_n[t]=e,t=0;t<e.length;t++)tc.add(e[t])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,Jh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yl={},vl={};function Yh(t){return uo.call(vl,t)?!0:uo.call(yl,t)?!1:Jh.test(t)?vl[t]=!0:(yl[t]=!0,!1)}function Xh(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zh(t,e,r,n){if(e===null||typeof e>"u"||Xh(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var va=/[\-:]([a-z])/g;function wa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(va,wa);de[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(va,wa);de[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(va,wa);de[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function xa(t,e,r,n){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zh(e,r,s,n)&&(r=null),n||s===null?Yh(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gt=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zn=Symbol.for("react.element"),mr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),_a=Symbol.for("react.strict_mode"),co=Symbol.for("react.profiler"),rc=Symbol.for("react.provider"),nc=Symbol.for("react.context"),ka=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),Sa=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),sc=Symbol.for("react.offscreen"),wl=Symbol.iterator;function Gr(t){return t===null||typeof t!="object"?null:(t=wl&&t[wl]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,Ci;function nn(t){if(Ci===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ci=e&&e[1]||""}return`
`+Ci+t}var Ti=!1;function Pi(t,e){if(!t||Ti)return"";Ti=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ti=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nn(t):""}function ef(t){switch(t.tag){case 5:return nn(t.type);case 16:return nn("Lazy");case 13:return nn("Suspense");case 19:return nn("SuspenseList");case 0:case 2:case 15:return t=Pi(t.type,!1),t;case 11:return t=Pi(t.type.render,!1),t;case 1:return t=Pi(t.type,!0),t;default:return""}}function po(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yr:return"Fragment";case mr:return"Portal";case co:return"Profiler";case _a:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nc:return(t.displayName||"Context")+".Consumer";case rc:return(t._context.displayName||"Context")+".Provider";case ka:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sa:return e=t.displayName||null,e!==null?e:po(t.type)||"Memo";case wt:e=t._payload,t=t._init;try{return po(t(e))}catch{}}return null}function tf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(e);case 8:return e===_a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ic(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rf(t){var e=ic(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function es(t){t._valueTracker||(t._valueTracker=rf(t))}function oc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ic(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function go(t,e){var r=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ac(t,e){e=e.checked,e!=null&&xa(t,"checked",e,!1)}function mo(t,e){ac(t,e);var r=Rt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,r):e.hasOwnProperty("defaultValue")&&yo(t,e.type,Rt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _l(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yo(t,e,r){(e!=="number"||Os(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sn=Array.isArray;function Cr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(b(92));if(sn(r)){if(1<r.length)throw Error(b(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rt(r)}}function lc(t,e){var r=Rt(e.value),n=Rt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Sl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ts,cc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nf=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(t){nf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),un[e]=un[t]})});function dc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||un.hasOwnProperty(t)&&un[t]?(""+e).trim():e+"px"}function hc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=dc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var sf=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(t,e){if(e){if(sf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function _o(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,Tr=null,Pr=null;function jl(t){if(t=Vn(t)){if(typeof So!="function")throw Error(b(280));var e=t.stateNode;e&&(e=ci(e),So(t.stateNode,t.type,e))}}function fc(t){Tr?Pr?Pr.push(t):Pr=[t]:Tr=t}function pc(){if(Tr){var t=Tr,e=Pr;if(Pr=Tr=null,jl(t),e)for(t=0;t<e.length;t++)jl(e[t])}}function gc(t,e){return t(e)}function mc(){}var Oi=!1;function yc(t,e,r){if(Oi)return t(e,r);Oi=!0;try{return gc(t,e,r)}finally{Oi=!1,(Tr!==null||Pr!==null)&&(mc(),pc())}}function Sn(t,e){var r=t.stateNode;if(r===null)return null;var n=ci(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(b(231,e,typeof r));return r}var jo=!1;if(dt)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{jo=!1}function of(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var cn=!1,Ls=null,Is=!1,bo=null,af={onError:function(t){cn=!0,Ls=t}};function lf(t,e,r,n,s,i,o,a,l){cn=!1,Ls=null,of.apply(af,arguments)}function uf(t,e,r,n,s,i,o,a,l){if(lf.apply(this,arguments),cn){if(cn){var c=Ls;cn=!1,Ls=null}else throw Error(b(198));Is||(Is=!0,bo=c)}}function ir(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bl(t){if(ir(t)!==t)throw Error(b(188))}function cf(t){var e=t.alternate;if(!e){if(e=ir(t),e===null)throw Error(b(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bl(s),t;if(i===n)return bl(s),e;i=i.sibling}throw Error(b(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?t:e}function wc(t){return t=cf(t),t!==null?xc(t):null}function xc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xc(t);if(e!==null)return e;t=t.sibling}return null}var _c=Le.unstable_scheduleCallback,El=Le.unstable_cancelCallback,df=Le.unstable_shouldYield,hf=Le.unstable_requestPaint,ee=Le.unstable_now,ff=Le.unstable_getCurrentPriorityLevel,ba=Le.unstable_ImmediatePriority,kc=Le.unstable_UserBlockingPriority,Rs=Le.unstable_NormalPriority,pf=Le.unstable_LowPriority,Sc=Le.unstable_IdlePriority,oi=null,tt=null;function gf(t){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:vf,mf=Math.log,yf=Math.LN2;function vf(t){return t>>>=0,t===0?32:31-(mf(t)/yf|0)|0}var rs=64,ns=4194304;function on(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function As(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=on(a):(i&=o,i!==0&&(n=on(i)))}else o=r&~s,o!==0?n=on(o):i!==0&&(n=on(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ge(e),s=1<<r,n|=t[r],e&=~s;return n}function wf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ge(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=wf(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jc(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Li(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ge(e),t[e]=r}function _f(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ge(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ea(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ge(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var F=0;function bc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ec,Na,Nc,Cc,Tc,No=!1,ss=[],Et=null,Nt=null,Ct=null,jn=new Map,bn=new Map,_t=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nl(t,e){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":jn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(e.pointerId)}}function Jr(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vn(e),e!==null&&Na(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Sf(t,e,r,n,s){switch(e){case"focusin":return Et=Jr(Et,t,e,r,n,s),!0;case"dragenter":return Nt=Jr(Nt,t,e,r,n,s),!0;case"mouseover":return Ct=Jr(Ct,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return jn.set(i,Jr(jn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,bn.set(i,Jr(bn.get(i)||null,t,e,r,n,s)),!0}return!1}function Pc(t){var e=Gt(t.target);if(e!==null){var r=ir(e);if(r!==null){if(e=r.tag,e===13){if(e=vc(r),e!==null){t.blockedOn=e,Tc(t.priority,function(){Nc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _s(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Co(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ko=n,r.target.dispatchEvent(n),ko=null}else return e=Vn(r),e!==null&&Na(e),t.blockedOn=r,!1;e.shift()}return!0}function Cl(t,e,r){_s(t)&&r.delete(e)}function jf(){No=!1,Et!==null&&_s(Et)&&(Et=null),Nt!==null&&_s(Nt)&&(Nt=null),Ct!==null&&_s(Ct)&&(Ct=null),jn.forEach(Cl),bn.forEach(Cl)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,No||(No=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,jf)))}function En(t){function e(s){return Yr(s,t)}if(0<ss.length){Yr(ss[0],t);for(var r=1;r<ss.length;r++){var n=ss[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Et!==null&&Yr(Et,t),Nt!==null&&Yr(Nt,t),Ct!==null&&Yr(Ct,t),jn.forEach(e),bn.forEach(e),r=0;r<_t.length;r++)n=_t[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_t.length&&(r=_t[0],r.blockedOn===null);)Pc(r),r.blockedOn===null&&_t.shift()}var Or=gt.ReactCurrentBatchConfig,$s=!0;function bf(t,e,r,n){var s=F,i=Or.transition;Or.transition=null;try{F=1,Ca(t,e,r,n)}finally{F=s,Or.transition=i}}function Ef(t,e,r,n){var s=F,i=Or.transition;Or.transition=null;try{F=4,Ca(t,e,r,n)}finally{F=s,Or.transition=i}}function Ca(t,e,r,n){if($s){var s=Co(t,e,r,n);if(s===null)Bi(t,e,n,Ds,r),Nl(t,n);else if(Sf(s,t,e,r,n))n.stopPropagation();else if(Nl(t,n),e&4&&-1<kf.indexOf(t)){for(;s!==null;){var i=Vn(s);if(i!==null&&Ec(i),i=Co(t,e,r,n),i===null&&Bi(t,e,n,Ds,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Bi(t,e,n,null,r)}}var Ds=null;function Co(t,e,r,n){if(Ds=null,t=ja(n),t=Gt(t),t!==null)if(e=ir(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ds=t,null}function Oc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ff()){case ba:return 1;case kc:return 4;case Rs:case pf:return 16;case Sc:return 536870912;default:return 16}default:return 16}}var jt=null,Ta=null,ks=null;function Lc(){if(ks)return ks;var t,e=Ta,r=e.length,n,s="value"in jt?jt.value:jt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ks=s.slice(t,1<n?1-n:void 0)}function Ss(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function Tl(){return!1}function Re(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:Tl,this.isPropagationStopped=Tl,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),e}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Re(Wr),Wn=J({},Wr,{view:0,detail:0}),Nf=Re(Wn),Ii,Ri,Xr,ai=J({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(Ii=t.screenX-Xr.screenX,Ri=t.screenY-Xr.screenY):Ri=Ii=0,Xr=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:Ri}}),Pl=Re(ai),Cf=J({},ai,{dataTransfer:0}),Tf=Re(Cf),Pf=J({},Wn,{relatedTarget:0}),Ai=Re(Pf),Of=J({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lf=Re(Of),If=J({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rf=Re(If),Af=J({},Wr,{data:0}),Ol=Re(Af),$f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uf[t])?!!e[t]:!1}function Oa(){return zf}var Mf=J({},Wn,{key:function(t){if(t.key){var e=$f[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Df[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ff=Re(Mf),Bf=J({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=Re(Bf),Wf=J({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Vf=Re(Wf),Hf=J({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qf=Re(Hf),Kf=J({},ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gf=Re(Kf),Qf=[9,13,27,32],La=dt&&"CompositionEvent"in window,dn=null;dt&&"documentMode"in document&&(dn=document.documentMode);var Jf=dt&&"TextEvent"in window&&!dn,Ic=dt&&(!La||dn&&8<dn&&11>=dn),Il=" ",Rl=!1;function Rc(t,e){switch(t){case"keyup":return Qf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function Yf(t,e){switch(t){case"compositionend":return Ac(e);case"keypress":return e.which!==32?null:(Rl=!0,Il);case"textInput":return t=e.data,t===Il&&Rl?null:t;default:return null}}function Xf(t,e){if(vr)return t==="compositionend"||!La&&Rc(t,e)?(t=Lc(),ks=Ta=jt=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ic&&e.locale!=="ko"?null:e.data;default:return null}}var Zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Al(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zf[t.type]:e==="textarea"}function $c(t,e,r,n){fc(n),e=Us(e,"onChange"),0<e.length&&(r=new Pa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hn=null,Nn=null;function ep(t){Kc(t,0)}function li(t){var e=_r(t);if(oc(e))return t}function tp(t,e){if(t==="change")return e}var Dc=!1;if(dt){var $i;if(dt){var Di="oninput"in document;if(!Di){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Di=typeof $l.oninput=="function"}$i=Di}else $i=!1;Dc=$i&&(!document.documentMode||9<document.documentMode)}function Dl(){hn&&(hn.detachEvent("onpropertychange",Uc),Nn=hn=null)}function Uc(t){if(t.propertyName==="value"&&li(Nn)){var e=[];$c(e,Nn,t,ja(t)),yc(ep,e)}}function rp(t,e,r){t==="focusin"?(Dl(),hn=e,Nn=r,hn.attachEvent("onpropertychange",Uc)):t==="focusout"&&Dl()}function np(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return li(Nn)}function sp(t,e){if(t==="click")return li(e)}function ip(t,e){if(t==="input"||t==="change")return li(e)}function op(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Je=typeof Object.is=="function"?Object.is:op;function Cn(t,e){if(Je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uo.call(e,s)||!Je(t[s],e[s]))return!1}return!0}function Ul(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zl(t,e){var r=Ul(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ul(r)}}function zc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mc(){for(var t=window,e=Os();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Os(t.document)}return e}function Ia(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ap(t){var e=Mc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zc(r.ownerDocument.documentElement,r)){if(n!==null&&Ia(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=zl(r,i);var o=zl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lp=dt&&"documentMode"in document&&11>=document.documentMode,wr=null,To=null,fn=null,Po=!1;function Ml(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Po||wr==null||wr!==Os(n)||(n=wr,"selectionStart"in n&&Ia(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fn&&Cn(fn,n)||(fn=n,n=Us(To,"onSelect"),0<n.length&&(e=new Pa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wr)))}function os(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Ui={},Fc={};dt&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function ui(t){if(Ui[t])return Ui[t];if(!xr[t])return t;var e=xr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fc)return Ui[t]=e[r];return t}var Bc=ui("animationend"),Wc=ui("animationiteration"),Vc=ui("animationstart"),Hc=ui("transitionend"),qc=new Map,Fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(t,e){qc.set(t,e),sr(e,[t])}for(var zi=0;zi<Fl.length;zi++){var Mi=Fl[zi],up=Mi.toLowerCase(),cp=Mi[0].toUpperCase()+Mi.slice(1);$t(up,"on"+cp)}$t(Bc,"onAnimationEnd");$t(Wc,"onAnimationIteration");$t(Vc,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(Hc,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var an="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(an));function Bl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,uf(n,e,void 0,t),t.currentTarget=null}function Kc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Bl(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Bl(s,a,c),i=l}}}if(Is)throw t=bo,Is=!1,bo=null,t}function V(t,e){var r=e[Ao];r===void 0&&(r=e[Ao]=new Set);var n=t+"__bubble";r.has(n)||(Gc(e,t,2,!1),r.add(n))}function Fi(t,e,r){var n=0;e&&(n|=4),Gc(r,t,n,e)}var as="_reactListening"+Math.random().toString(36).slice(2);function Tn(t){if(!t[as]){t[as]=!0,tc.forEach(function(r){r!=="selectionchange"&&(dp.has(r)||Fi(r,!1,t),Fi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[as]||(e[as]=!0,Fi("selectionchange",!1,e))}}function Gc(t,e,r,n){switch(Oc(e)){case 1:var s=bf;break;case 4:s=Ef;break;default:s=Ca}r=s.bind(null,e,r,t),s=void 0,!jo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Bi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}yc(function(){var c=i,d=ja(r),h=[];e:{var m=qc.get(t);if(m!==void 0){var v=Pa,w=t;switch(t){case"keypress":if(Ss(r)===0)break e;case"keydown":case"keyup":v=Ff;break;case"focusin":w="focus",v=Ai;break;case"focusout":w="blur",v=Ai;break;case"beforeblur":case"afterblur":v=Ai;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Vf;break;case Bc:case Wc:case Vc:v=Lf;break;case Hc:v=qf;break;case"scroll":v=Nf;break;case"wheel":v=Gf;break;case"copy":case"cut":case"paste":v=Rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ll}var S=(e&4)!==0,k=!S&&t==="scroll",p=S?m!==null?m+"Capture":null:m;S=[];for(var f=c,g;f!==null;){g=f;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,p!==null&&(y=Sn(f,p),y!=null&&S.push(Pn(f,y,g)))),k)break;f=f.return}0<S.length&&(m=new v(m,w,null,r,d),h.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==ko&&(w=r.relatedTarget||r.fromElement)&&(Gt(w)||w[ht]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?Gt(w):null,w!==null&&(k=ir(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(S=Pl,y="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(S=Ll,y="onPointerLeave",p="onPointerEnter",f="pointer"),k=v==null?m:_r(v),g=w==null?m:_r(w),m=new S(y,f+"leave",v,r,d),m.target=k,m.relatedTarget=g,y=null,Gt(d)===c&&(S=new S(p,f+"enter",w,r,d),S.target=g,S.relatedTarget=k,y=S),k=y,v&&w)t:{for(S=v,p=w,f=0,g=S;g;g=lr(g))f++;for(g=0,y=p;y;y=lr(y))g++;for(;0<f-g;)S=lr(S),f--;for(;0<g-f;)p=lr(p),g--;for(;f--;){if(S===p||p!==null&&S===p.alternate)break t;S=lr(S),p=lr(p)}S=null}else S=null;v!==null&&Wl(h,m,v,S,!1),w!==null&&k!==null&&Wl(h,k,w,S,!0)}}e:{if(m=c?_r(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var x=tp;else if(Al(m))if(Dc)x=ip;else{x=np;var _=rp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=sp);if(x&&(x=x(t,c))){$c(h,x,r,d);break e}_&&_(t,m,c),t==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&yo(m,"number",m.value)}switch(_=c?_r(c):window,t){case"focusin":(Al(_)||_.contentEditable==="true")&&(wr=_,To=c,fn=null);break;case"focusout":fn=To=wr=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,Ml(h,r,d);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Ml(h,r,d)}var j;if(La)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vr?Rc(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Ic&&r.locale!=="ko"&&(vr||E!=="onCompositionStart"?E==="onCompositionEnd"&&vr&&(j=Lc()):(jt=d,Ta="value"in jt?jt.value:jt.textContent,vr=!0)),_=Us(c,E),0<_.length&&(E=new Ol(E,t,null,r,d),h.push({event:E,listeners:_}),j?E.data=j:(j=Ac(r),j!==null&&(E.data=j)))),(j=Jf?Yf(t,r):Xf(t,r))&&(c=Us(c,"onBeforeInput"),0<c.length&&(d=new Ol("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=j))}Kc(h,e)})}function Pn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Us(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sn(t,r),i!=null&&n.unshift(Pn(t,i,s)),i=Sn(t,e),i!=null&&n.push(Pn(t,i,s))),t=t.return}return n}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wl(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Sn(r,i),l!=null&&o.unshift(Pn(r,l,a))):s||(l=Sn(r,i),l!=null&&o.push(Pn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var hp=/\r\n?/g,fp=/\u0000|\uFFFD/g;function Vl(t){return(typeof t=="string"?t:""+t).replace(hp,`
`).replace(fp,"")}function ls(t,e,r){if(e=Vl(e),Vl(t)!==e&&r)throw Error(b(425))}function zs(){}var Oo=null,Lo=null;function Io(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,pp=typeof clearTimeout=="function"?clearTimeout:void 0,Hl=typeof Promise=="function"?Promise:void 0,gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hl<"u"?function(t){return Hl.resolve(null).then(t).catch(mp)}:Ro;function mp(t){setTimeout(function(){throw t})}function Wi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),En(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);En(e)}function Tt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ql(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),et="__reactFiber$"+Vr,On="__reactProps$"+Vr,ht="__reactContainer$"+Vr,Ao="__reactEvents$"+Vr,yp="__reactListeners$"+Vr,vp="__reactHandles$"+Vr;function Gt(t){var e=t[et];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ht]||r[et]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ql(t);t!==null;){if(r=t[et])return r;t=ql(t)}return e}t=r,r=t.parentNode}return null}function Vn(t){return t=t[et]||t[ht],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function ci(t){return t[On]||null}var $o=[],kr=-1;function Dt(t){return{current:t}}function H(t){0>kr||(t.current=$o[kr],$o[kr]=null,kr--)}function W(t,e){kr++,$o[kr]=t.current,t.current=e}var At={},ye=Dt(At),Ee=Dt(!1),Zt=At;function Ar(t,e){var r=t.type.contextTypes;if(!r)return At;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function Ms(){H(Ee),H(ye)}function Kl(t,e,r){if(ye.current!==At)throw Error(b(168));W(ye,e),W(Ee,r)}function Qc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(b(108,tf(t)||"Unknown",s));return J({},r,n)}function Fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Zt=ye.current,W(ye,t),W(Ee,Ee.current),!0}function Gl(t,e,r){var n=t.stateNode;if(!n)throw Error(b(169));r?(t=Qc(t,e,Zt),n.__reactInternalMemoizedMergedChildContext=t,H(Ee),H(ye),W(ye,t)):H(Ee),W(Ee,r)}var at=null,di=!1,Vi=!1;function Jc(t){at===null?at=[t]:at.push(t)}function wp(t){di=!0,Jc(t)}function Ut(){if(!Vi&&at!==null){Vi=!0;var t=0,e=F;try{var r=at;for(F=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}at=null,di=!1}catch(s){throw at!==null&&(at=at.slice(t+1)),_c(ba,Ut),s}finally{F=e,Vi=!1}}return null}var Sr=[],jr=0,Bs=null,Ws=0,Ae=[],$e=0,er=null,lt=1,ut="";function Vt(t,e){Sr[jr++]=Ws,Sr[jr++]=Bs,Bs=t,Ws=e}function Yc(t,e,r){Ae[$e++]=lt,Ae[$e++]=ut,Ae[$e++]=er,er=t;var n=lt;t=ut;var s=32-Ge(n)-1;n&=~(1<<s),r+=1;var i=32-Ge(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,lt=1<<32-Ge(e)+s|r<<s|n,ut=i+t}else lt=1<<i|r<<s|n,ut=t}function Ra(t){t.return!==null&&(Vt(t,1),Yc(t,1,0))}function Aa(t){for(;t===Bs;)Bs=Sr[--jr],Sr[jr]=null,Ws=Sr[--jr],Sr[jr]=null;for(;t===er;)er=Ae[--$e],Ae[$e]=null,ut=Ae[--$e],Ae[$e]=null,lt=Ae[--$e],Ae[$e]=null}var Oe=null,Pe=null,q=!1,Ke=null;function Xc(t,e){var r=De(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ql(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,Pe=Tt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,Pe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=er!==null?{id:lt,overflow:ut}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=De(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oe=t,Pe=null,!0):!1;default:return!1}}function Do(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uo(t){if(q){var e=Pe;if(e){var r=e;if(!Ql(t,e)){if(Do(t))throw Error(b(418));e=Tt(r.nextSibling);var n=Oe;e&&Ql(t,e)?Xc(n,r):(t.flags=t.flags&-4097|2,q=!1,Oe=t)}}else{if(Do(t))throw Error(b(418));t.flags=t.flags&-4097|2,q=!1,Oe=t}}}function Jl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function us(t){if(t!==Oe)return!1;if(!q)return Jl(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Io(t.type,t.memoizedProps)),e&&(e=Pe)){if(Do(t))throw Zc(),Error(b(418));for(;e;)Xc(t,e),e=Tt(e.nextSibling)}if(Jl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Pe=Tt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Pe=null}}else Pe=Oe?Tt(t.stateNode.nextSibling):null;return!0}function Zc(){for(var t=Pe;t;)t=Tt(t.nextSibling)}function $r(){Pe=Oe=null,q=!1}function $a(t){Ke===null?Ke=[t]:Ke.push(t)}var xp=gt.ReactCurrentBatchConfig;function Zr(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,t))}return t}function cs(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yl(t){var e=t._init;return e(t._payload)}function ed(t){function e(p,f){if(t){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function r(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=It(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,g,y){return f===null||f.tag!==6?(f=Yi(g,p.mode,y),f.return=p,f):(f=s(f,g),f.return=p,f)}function l(p,f,g,y){var x=g.type;return x===yr?d(p,f,g.props.children,y,g.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wt&&Yl(x)===f.type)?(y=s(f,g.props),y.ref=Zr(p,f,g),y.return=p,y):(y=Ps(g.type,g.key,g.props,null,p.mode,y),y.ref=Zr(p,f,g),y.return=p,y)}function c(p,f,g,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Xi(g,p.mode,y),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function d(p,f,g,y,x){return f===null||f.tag!==7?(f=Xt(g,p.mode,y,x),f.return=p,f):(f=s(f,g),f.return=p,f)}function h(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Yi(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zn:return g=Ps(f.type,f.key,f.props,null,p.mode,g),g.ref=Zr(p,null,f),g.return=p,g;case mr:return f=Xi(f,p.mode,g),f.return=p,f;case wt:var y=f._init;return h(p,y(f._payload),g)}if(sn(f)||Gr(f))return f=Xt(f,p.mode,g,null),f.return=p,f;cs(p,f)}return null}function m(p,f,g,y){var x=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(p,f,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zn:return g.key===x?l(p,f,g,y):null;case mr:return g.key===x?c(p,f,g,y):null;case wt:return x=g._init,m(p,f,x(g._payload),y)}if(sn(g)||Gr(g))return x!==null?null:d(p,f,g,y,null);cs(p,g)}return null}function v(p,f,g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(g)||null,a(f,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zn:return p=p.get(y.key===null?g:y.key)||null,l(f,p,y,x);case mr:return p=p.get(y.key===null?g:y.key)||null,c(f,p,y,x);case wt:var _=y._init;return v(p,f,g,_(y._payload),x)}if(sn(y)||Gr(y))return p=p.get(g)||null,d(f,p,y,x,null);cs(f,y)}return null}function w(p,f,g,y){for(var x=null,_=null,j=f,E=f=0,D=null;j!==null&&E<g.length;E++){j.index>E?(D=j,j=null):D=j.sibling;var O=m(p,j,g[E],y);if(O===null){j===null&&(j=D);break}t&&j&&O.alternate===null&&e(p,j),f=i(O,f,E),_===null?x=O:_.sibling=O,_=O,j=D}if(E===g.length)return r(p,j),q&&Vt(p,E),x;if(j===null){for(;E<g.length;E++)j=h(p,g[E],y),j!==null&&(f=i(j,f,E),_===null?x=j:_.sibling=j,_=j);return q&&Vt(p,E),x}for(j=n(p,j);E<g.length;E++)D=v(j,p,E,g[E],y),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?E:D.key),f=i(D,f,E),_===null?x=D:_.sibling=D,_=D);return t&&j.forEach(function(M){return e(p,M)}),q&&Vt(p,E),x}function S(p,f,g,y){var x=Gr(g);if(typeof x!="function")throw Error(b(150));if(g=x.call(g),g==null)throw Error(b(151));for(var _=x=null,j=f,E=f=0,D=null,O=g.next();j!==null&&!O.done;E++,O=g.next()){j.index>E?(D=j,j=null):D=j.sibling;var M=m(p,j,O.value,y);if(M===null){j===null&&(j=D);break}t&&j&&M.alternate===null&&e(p,j),f=i(M,f,E),_===null?x=M:_.sibling=M,_=M,j=D}if(O.done)return r(p,j),q&&Vt(p,E),x;if(j===null){for(;!O.done;E++,O=g.next())O=h(p,O.value,y),O!==null&&(f=i(O,f,E),_===null?x=O:_.sibling=O,_=O);return q&&Vt(p,E),x}for(j=n(p,j);!O.done;E++,O=g.next())O=v(j,p,E,O.value,y),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?E:O.key),f=i(O,f,E),_===null?x=O:_.sibling=O,_=O);return t&&j.forEach(function(he){return e(p,he)}),q&&Vt(p,E),x}function k(p,f,g,y){if(typeof g=="object"&&g!==null&&g.type===yr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zn:e:{for(var x=g.key,_=f;_!==null;){if(_.key===x){if(x=g.type,x===yr){if(_.tag===7){r(p,_.sibling),f=s(_,g.props.children),f.return=p,p=f;break e}}else if(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wt&&Yl(x)===_.type){r(p,_.sibling),f=s(_,g.props),f.ref=Zr(p,_,g),f.return=p,p=f;break e}r(p,_);break}else e(p,_);_=_.sibling}g.type===yr?(f=Xt(g.props.children,p.mode,y,g.key),f.return=p,p=f):(y=Ps(g.type,g.key,g.props,null,p.mode,y),y.ref=Zr(p,f,g),y.return=p,p=y)}return o(p);case mr:e:{for(_=g.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else e(p,f);f=f.sibling}f=Xi(g,p.mode,y),f.return=p,p=f}return o(p);case wt:return _=g._init,k(p,f,_(g._payload),y)}if(sn(g))return w(p,f,g,y);if(Gr(g))return S(p,f,g,y);cs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,g),f.return=p,p=f):(r(p,f),f=Yi(g,p.mode,y),f.return=p,p=f),o(p)):r(p,f)}return k}var Dr=ed(!0),td=ed(!1),Vs=Dt(null),Hs=null,br=null,Da=null;function Ua(){Da=br=Hs=null}function za(t){var e=Vs.current;H(Vs),t._currentValue=e}function zo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Lr(t,e){Hs=t,Da=br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(Da!==t)if(t={context:t,memoizedValue:e,next:null},br===null){if(Hs===null)throw Error(b(308));br=t,Hs.dependencies={lanes:0,firstContext:t}}else br=br.next=t;return e}var Qt=null;function Ma(t){Qt===null?Qt=[t]:Qt.push(t)}function rd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ma(e)):(r.next=s.next,s.next=r),e.interleaved=r,ft(t,n)}function ft(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var xt=!1;function Fa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ct(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ft(t,r)}return s=n.interleaved,s===null?(e.next=e,Ma(n)):(e.next=s.next,s.next=e),n.interleaved=e,ft(t,r)}function js(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ea(t,r)}}function Xl(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qs(t,e,r,n){var s=t.updateQueue;xt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,S=a;switch(m=e,v=r,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(v,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,m=typeof w=="function"?w.call(v,h,m):w,m==null)break e;h=J({},h,m);break e;case 2:xt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);rr|=o,t.lanes=o,t.memoizedState=h}}function Zl(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(b(191,s));s.call(n)}}}var Hn={},rt=Dt(Hn),Ln=Dt(Hn),In=Dt(Hn);function Jt(t){if(t===Hn)throw Error(b(174));return t}function Ba(t,e){switch(W(In,e),W(Ln,t),W(rt,Hn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wo(e,t)}H(rt),W(rt,e)}function Ur(){H(rt),H(Ln),H(In)}function sd(t){Jt(In.current);var e=Jt(rt.current),r=wo(e,t.type);e!==r&&(W(Ln,t),W(rt,r))}function Wa(t){Ln.current===t&&(H(rt),H(Ln))}var G=Dt(0);function Ks(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hi=[];function Va(){for(var t=0;t<Hi.length;t++)Hi[t]._workInProgressVersionPrimary=null;Hi.length=0}var bs=gt.ReactCurrentDispatcher,qi=gt.ReactCurrentBatchConfig,tr=0,Q=null,se=null,ae=null,Gs=!1,pn=!1,Rn=0,_p=0;function pe(){throw Error(b(321))}function Ha(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Je(t[r],e[r]))return!1;return!0}function qa(t,e,r,n,s,i){if(tr=i,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bs.current=t===null||t.memoizedState===null?bp:Ep,t=r(n,s),pn){i=0;do{if(pn=!1,Rn=0,25<=i)throw Error(b(301));i+=1,ae=se=null,e.updateQueue=null,bs.current=Np,t=r(n,s)}while(pn)}if(bs.current=Qs,e=se!==null&&se.next!==null,tr=0,ae=se=Q=null,Gs=!1,e)throw Error(b(300));return t}function Ka(){var t=Rn!==0;return Rn=0,t}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?Q.memoizedState=ae=t:ae=ae.next=t,ae}function Fe(){if(se===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ae===null?Q.memoizedState:ae.next;if(e!==null)ae=e,se=t;else{if(t===null)throw Error(b(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?Q.memoizedState=ae=t:ae=ae.next=t}return ae}function An(t,e){return typeof e=="function"?e(t):e}function Ki(t){var e=Fe(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((tr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Q.lanes|=d,rr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Je(n,e.memoizedState)||(be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Q.lanes|=i,rr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gi(t){var e=Fe(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Je(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function id(){}function od(t,e){var r=Q,n=Fe(),s=e(),i=!Je(n.memoizedState,s);if(i&&(n.memoizedState=s,be=!0),n=n.queue,Ga(ud.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(r.flags|=2048,$n(9,ld.bind(null,r,n,s,e),void 0,null),le===null)throw Error(b(349));tr&30||ad(r,e,s)}return s}function ad(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ld(t,e,r,n){e.value=r,e.getSnapshot=n,cd(e)&&dd(t)}function ud(t,e,r){return r(function(){cd(e)&&dd(t)})}function cd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Je(t,r)}catch{return!0}}function dd(t){var e=ft(t,1);e!==null&&Qe(e,t,1,-1)}function eu(t){var e=Xe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},e.queue=t,t=t.dispatch=jp.bind(null,Q,t),[e.memoizedState,t]}function $n(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function hd(){return Fe().memoizedState}function Es(t,e,r,n){var s=Xe();Q.flags|=t,s.memoizedState=$n(1|e,r,void 0,n===void 0?null:n)}function hi(t,e,r,n){var s=Fe();n=n===void 0?null:n;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,n!==null&&Ha(n,o.deps)){s.memoizedState=$n(e,r,i,n);return}}Q.flags|=t,s.memoizedState=$n(1|e,r,i,n)}function tu(t,e){return Es(8390656,8,t,e)}function Ga(t,e){return hi(2048,8,t,e)}function fd(t,e){return hi(4,2,t,e)}function pd(t,e){return hi(4,4,t,e)}function gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function md(t,e,r){return r=r!=null?r.concat([t]):null,hi(4,4,gd.bind(null,e,t),r)}function Qa(){}function yd(t,e){var r=Fe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ha(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vd(t,e){var r=Fe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ha(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wd(t,e,r){return tr&21?(Je(r,e)||(r=jc(),Q.lanes|=r,rr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=r)}function kp(t,e){var r=F;F=r!==0&&4>r?r:4,t(!0);var n=qi.transition;qi.transition={};try{t(!1),e()}finally{F=r,qi.transition=n}}function xd(){return Fe().memoizedState}function Sp(t,e,r){var n=Lt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_d(t))kd(e,r);else if(r=rd(t,e,r,n),r!==null){var s=xe();Qe(r,t,n,s),Sd(r,e,n)}}function jp(t,e,r){var n=Lt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_d(t))kd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Je(a,o)){var l=e.interleaved;l===null?(s.next=s,Ma(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=rd(t,e,s,n),r!==null&&(s=xe(),Qe(r,t,n,s),Sd(r,e,n))}}function _d(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function kd(t,e){pn=Gs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Sd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ea(t,r)}}var Qs={readContext:Me,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},bp={readContext:Me,useCallback:function(t,e){return Xe().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:tu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Es(4194308,4,gd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Es(4194308,4,t,e)},useInsertionEffect:function(t,e){return Es(4,2,t,e)},useMemo:function(t,e){var r=Xe();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xe();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Sp.bind(null,Q,t),[n.memoizedState,t]},useRef:function(t){var e=Xe();return t={current:t},e.memoizedState=t},useState:eu,useDebugValue:Qa,useDeferredValue:function(t){return Xe().memoizedState=t},useTransition:function(){var t=eu(!1),e=t[0];return t=kp.bind(null,t[1]),Xe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Q,s=Xe();if(q){if(r===void 0)throw Error(b(407));r=r()}else{if(r=e(),le===null)throw Error(b(349));tr&30||ad(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,tu(ud.bind(null,n,i,t),[t]),n.flags|=2048,$n(9,ld.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Xe(),e=le.identifierPrefix;if(q){var r=ut,n=lt;r=(n&~(1<<32-Ge(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Rn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=_p++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ep={readContext:Me,useCallback:yd,useContext:Me,useEffect:Ga,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:pd,useMemo:vd,useReducer:Ki,useRef:hd,useState:function(){return Ki(An)},useDebugValue:Qa,useDeferredValue:function(t){var e=Fe();return wd(e,se.memoizedState,t)},useTransition:function(){var t=Ki(An)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:id,useSyncExternalStore:od,useId:xd,unstable_isNewReconciler:!1},Np={readContext:Me,useCallback:yd,useContext:Me,useEffect:Ga,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:pd,useMemo:vd,useReducer:Gi,useRef:hd,useState:function(){return Gi(An)},useDebugValue:Qa,useDeferredValue:function(t){var e=Fe();return se===null?e.memoizedState=t:wd(e,se.memoizedState,t)},useTransition:function(){var t=Gi(An)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:id,useSyncExternalStore:od,useId:xd,unstable_isNewReconciler:!1};function Ve(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Mo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:J({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fi={isMounted:function(t){return(t=t._reactInternals)?ir(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xe(),s=Lt(t),i=ct(n,s);i.payload=e,r!=null&&(i.callback=r),e=Pt(t,i,s),e!==null&&(Qe(e,t,s,n),js(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xe(),s=Lt(t),i=ct(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Pt(t,i,s),e!==null&&(Qe(e,t,s,n),js(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xe(),n=Lt(t),s=ct(r,n);s.tag=2,e!=null&&(s.callback=e),e=Pt(t,s,n),e!==null&&(Qe(e,t,n,r),js(e,t,n))}};function ru(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Cn(r,n)||!Cn(s,i):!0}function jd(t,e,r){var n=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=Ne(e)?Zt:ye.current,n=e.contextTypes,i=(n=n!=null)?Ar(t,s):At),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&fi.enqueueReplaceState(e,e.state,null)}function Fo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=Ne(e)?Zt:ye.current,s.context=Ar(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fi.enqueueReplaceState(s,s.state,null),qs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zr(t,e){try{var r="",n=e;do r+=ef(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Bo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function bd(t,e,r){r=ct(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ys||(Ys=!0,Xo=n),Bo(t,e)},r}function Ed(t,e,r){r=ct(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Bo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bo(t,e),typeof n!="function"&&(Ot===null?Ot=new Set([this]):Ot.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function su(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Cp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Bp.bind(null,t,e,r),e.then(t,t))}function iu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ou(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ct(-1,1),e.tag=2,Pt(r,e,1))),r.lanes|=1),t)}var Tp=gt.ReactCurrentOwner,be=!1;function we(t,e,r,n){e.child=t===null?td(e,null,r,n):Dr(e,t.child,r,n)}function au(t,e,r,n,s){r=r.render;var i=e.ref;return Lr(e,s),n=qa(t,e,r,n,i,s),r=Ka(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pt(t,e,s)):(q&&r&&Ra(e),e.flags|=1,we(t,e,n,s),e.child)}function lu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!nl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Nd(t,e,i,n,s)):(t=Ps(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Cn,r(o,n)&&t.ref===e.ref)return pt(t,e,s)}return e.flags|=1,t=It(i,n),t.ref=e.ref,t.return=e,e.child=t}function Nd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Cn(i,n)&&t.ref===e.ref)if(be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,pt(t,e,s)}return Wo(t,e,r,n,s)}function Cd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Nr,Te),Te|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(Nr,Te),Te|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Nr,Te),Te|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,W(Nr,Te),Te|=n;return we(t,e,s,r),e.child}function Td(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wo(t,e,r,n,s){var i=Ne(r)?Zt:ye.current;return i=Ar(e,i),Lr(e,s),r=qa(t,e,r,n,i,s),n=Ka(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pt(t,e,s)):(q&&n&&Ra(e),e.flags|=1,we(t,e,r,s),e.child)}function uu(t,e,r,n,s){if(Ne(r)){var i=!0;Fs(e)}else i=!1;if(Lr(e,s),e.stateNode===null)Ns(t,e),jd(e,r,n),Fo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=Ne(r)?Zt:ye.current,c=Ar(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&nu(e,o,n,c),xt=!1;var m=e.memoizedState;o.state=m,qs(e,n,o,s),l=e.memoizedState,a!==n||m!==l||Ee.current||xt?(typeof d=="function"&&(Mo(e,r,d,n),l=e.memoizedState),(a=xt||ru(e,r,a,n,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,nd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ve(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Me(l):(l=Ne(r)?Zt:ye.current,l=Ar(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&nu(e,o,n,l),xt=!1,m=e.memoizedState,o.state=m,qs(e,n,o,s);var w=e.memoizedState;a!==h||m!==w||Ee.current||xt?(typeof v=="function"&&(Mo(e,r,v,n),w=e.memoizedState),(c=xt||ru(e,r,c,n,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Vo(t,e,r,n,i,s)}function Vo(t,e,r,n,s,i){Td(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Gl(e,r,!1),pt(t,e,i);n=e.stateNode,Tp.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Dr(e,t.child,null,i),e.child=Dr(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&Gl(e,r,!0),e.child}function Pd(t){var e=t.stateNode;e.pendingContext?Kl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kl(t,e.context,!1),Ba(t,e.containerInfo)}function cu(t,e,r,n,s){return $r(),$a(s),e.flags|=256,we(t,e,r,n),e.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Od(t,e,r){var n=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),W(G,s&1),t===null)return Uo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mi(o,n,0,null),t=Xt(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qo(r),e.memoizedState=Ho,t):Ja(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Pp(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=It(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=It(a,i):(i=Xt(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?qo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ho,n}return i=t.child,t=i.sibling,n=It(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ja(t,e){return e=mi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ds(t,e,r,n){return n!==null&&$a(n),Dr(e,t.child,null,r),t=Ja(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Qi(Error(b(422))),ds(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=mi({mode:"visible",children:n.children},s,0,null),i=Xt(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Dr(e,t.child,null,o),e.child.memoizedState=qo(o),e.memoizedState=Ho,i);if(!(e.mode&1))return ds(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(b(419)),n=Qi(i,n,void 0),ds(t,e,o,n)}if(a=(o&t.childLanes)!==0,be||a){if(n=le,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ft(t,s),Qe(n,t,s,-1))}return rl(),n=Qi(Error(b(421))),ds(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Wp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pe=Tt(s.nextSibling),Oe=e,q=!0,Ke=null,t!==null&&(Ae[$e++]=lt,Ae[$e++]=ut,Ae[$e++]=er,lt=t.id,ut=t.overflow,er=e),e=Ja(e,n.children),e.flags|=4096,e)}function du(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zo(t.return,e,r)}function Ji(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ld(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=G.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&du(t,r,e);else if(t.tag===19)du(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(W(G,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ks(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ji(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ks(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ji(e,!0,r,null,i);break;case"together":Ji(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ns(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),rr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,r=It(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=It(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Op(t,e,r){switch(e.tag){case 3:Pd(e),$r();break;case 5:sd(e);break;case 1:Ne(e.type)&&Fs(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;W(Vs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(W(G,G.current&1),e.flags|=128,null):r&e.child.childLanes?Od(t,e,r):(W(G,G.current&1),t=pt(t,e,r),t!==null?t.sibling:null);W(G,G.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ld(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(G,G.current),n)break;return null;case 22:case 23:return e.lanes=0,Cd(t,e,r)}return pt(t,e,r)}var Id,Ko,Rd,Ad;Id=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ko=function(){};Rd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Jt(rt.current);var i=null;switch(r){case"input":s=go(t,s),n=go(t,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=vo(t,s),n=vo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zs)}xo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_n.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_n.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&V("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Ad=function(t,e,r,n){r!==n&&(e.flags|=4)};function en(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lp(t,e,r){var n=e.pendingProps;switch(Aa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Ne(e.type)&&Ms(),ge(e),null;case 3:return n=e.stateNode,Ur(),H(Ee),H(ye),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(us(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ke!==null&&(ta(Ke),Ke=null))),Ko(t,e),ge(e),null;case 5:Wa(e);var s=Jt(In.current);if(r=e.type,t!==null&&e.stateNode!=null)Rd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(b(166));return ge(e),null}if(t=Jt(rt.current),us(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[et]=e,n[On]=i,t=(e.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<an.length;s++)V(an[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":xl(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":kl(n,i),V("invalid",n)}xo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ls(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ls(n.textContent,a,t),s=["children",""+a]):_n.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&V("scroll",n)}switch(r){case"input":es(n),_l(n,i,!0);break;case"textarea":es(n),Sl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=zs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[et]=e,t[On]=n,Id(t,e,!1,!1),e.stateNode=t;e:{switch(o=_o(r,n),r){case"dialog":V("cancel",t),V("close",t),s=n;break;case"iframe":case"object":case"embed":V("load",t),s=n;break;case"video":case"audio":for(s=0;s<an.length;s++)V(an[s],t);s=n;break;case"source":V("error",t),s=n;break;case"img":case"image":case"link":V("error",t),V("load",t),s=n;break;case"details":V("toggle",t),s=n;break;case"input":xl(t,n),s=go(t,n),V("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),V("invalid",t);break;case"textarea":kl(t,n),s=vo(t,n),V("invalid",t);break;default:s=n}xo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&kn(t,l):typeof l=="number"&&kn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_n.hasOwnProperty(i)?l!=null&&i==="onScroll"&&V("scroll",t):l!=null&&xa(t,i,l,o))}switch(r){case"input":es(t),_l(t,n,!1);break;case"textarea":es(t),Sl(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Cr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Cr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)Ad(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(b(166));if(r=Jt(In.current),Jt(rt.current),us(e)){if(n=e.stateNode,r=e.memoizedProps,n[et]=e,(i=n.nodeValue!==r)&&(t=Oe,t!==null))switch(t.tag){case 3:ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ls(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[et]=e,e.stateNode=n}return ge(e),null;case 13:if(H(G),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Pe!==null&&e.mode&1&&!(e.flags&128))Zc(),$r(),e.flags|=98560,i=!1;else if(i=us(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[et]=e}else $r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else Ke!==null&&(ta(Ke),Ke=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?ie===0&&(ie=3):rl())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Ur(),Ko(t,e),t===null&&Tn(e.stateNode.containerInfo),ge(e),null;case 10:return za(e.type._context),ge(e),null;case 17:return Ne(e.type)&&Ms(),ge(e),null;case 19:if(H(G),i=e.memoizedState,i===null)return ge(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)en(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ks(t),o!==null){for(e.flags|=128,en(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return W(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>Mr&&(e.flags|=128,n=!0,en(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ks(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),en(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return ge(e),null}else 2*ee()-i.renderingStartTime>Mr&&r!==1073741824&&(e.flags|=128,n=!0,en(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,r=G.current,W(G,n?r&1|2:r&1),e):(ge(e),null);case 22:case 23:return tl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Te&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function Ip(t,e){switch(Aa(e),e.tag){case 1:return Ne(e.type)&&Ms(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ur(),H(Ee),H(ye),Va(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wa(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));$r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return Ur(),null;case 10:return za(e.type._context),null;case 22:case 23:return tl(),null;case 24:return null;default:return null}}var hs=!1,me=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,C=null;function Er(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Y(t,e,n)}else r.current=null}function Go(t,e,r){try{r()}catch(n){Y(t,e,n)}}var hu=!1;function Ap(t,e){if(Oo=$s,t=Mc(),Ia(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===r&&++c===s&&(a=o),m===i&&++d===n&&(l=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lo={focusedElem:t,selectionRange:r},$s=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,k=w.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ve(e.type,S),k);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(y){Y(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return w=hu,hu=!1,w}function gn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Go(e,r,i)}s=s.next}while(s!==n)}}function pi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $d(t){var e=t.alternate;e!==null&&(t.alternate=null,$d(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[et],delete e[On],delete e[Ao],delete e[yp],delete e[vp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dd(t){return t.tag===5||t.tag===3||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zs));else if(n!==4&&(t=t.child,t!==null))for(Jo(t,e,r),t=t.sibling;t!==null;)Jo(t,e,r),t=t.sibling}function Yo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Yo(t,e,r),t=t.sibling;t!==null;)Yo(t,e,r),t=t.sibling}var ue=null,He=!1;function mt(t,e,r){for(r=r.child;r!==null;)Ud(t,e,r),r=r.sibling}function Ud(t,e,r){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(oi,r)}catch{}switch(r.tag){case 5:me||Er(r,e);case 6:var n=ue,s=He;ue=null,mt(t,e,r),ue=n,He=s,ue!==null&&(He?(t=ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ue.removeChild(r.stateNode));break;case 18:ue!==null&&(He?(t=ue,r=r.stateNode,t.nodeType===8?Wi(t.parentNode,r):t.nodeType===1&&Wi(t,r),En(t)):Wi(ue,r.stateNode));break;case 4:n=ue,s=He,ue=r.stateNode.containerInfo,He=!0,mt(t,e,r),ue=n,He=s;break;case 0:case 11:case 14:case 15:if(!me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Go(r,e,o),s=s.next}while(s!==n)}mt(t,e,r);break;case 1:if(!me&&(Er(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Y(r,e,a)}mt(t,e,r);break;case 21:mt(t,e,r);break;case 22:r.mode&1?(me=(n=me)||r.memoizedState!==null,mt(t,e,r),me=n):mt(t,e,r);break;default:mt(t,e,r)}}function pu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Rp),e.forEach(function(n){var s=Vp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Be(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ue=a.stateNode,He=!1;break e;case 3:ue=a.stateNode.containerInfo,He=!0;break e;case 4:ue=a.stateNode.containerInfo,He=!0;break e}a=a.return}if(ue===null)throw Error(b(160));Ud(i,o,s),ue=null,He=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Y(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zd(e,t),e=e.sibling}function zd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Be(e,t),Ye(t),n&4){try{gn(3,t,t.return),pi(3,t)}catch(S){Y(t,t.return,S)}try{gn(5,t,t.return)}catch(S){Y(t,t.return,S)}}break;case 1:Be(e,t),Ye(t),n&512&&r!==null&&Er(r,r.return);break;case 5:if(Be(e,t),Ye(t),n&512&&r!==null&&Er(r,r.return),t.flags&32){var s=t.stateNode;try{kn(s,"")}catch(S){Y(t,t.return,S)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ac(s,i),_o(a,o);var c=_o(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?hc(s,h):d==="dangerouslySetInnerHTML"?cc(s,h):d==="children"?kn(s,h):xa(s,d,h,c)}switch(a){case"input":mo(s,i);break;case"textarea":lc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Cr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Cr(s,!!i.multiple,i.defaultValue,!0):Cr(s,!!i.multiple,i.multiple?[]:"",!1))}s[On]=i}catch(S){Y(t,t.return,S)}}break;case 6:if(Be(e,t),Ye(t),n&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Y(t,t.return,S)}}break;case 3:if(Be(e,t),Ye(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{En(e.containerInfo)}catch(S){Y(t,t.return,S)}break;case 4:Be(e,t),Ye(t);break;case 13:Be(e,t),Ye(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=ee())),n&4&&pu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(me=(c=me)||d,Be(e,t),me=c):Be(e,t),Ye(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(m=C,v=m.child,m.tag){case 0:case 11:case 14:case 15:gn(4,m,m.return);break;case 1:Er(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){Y(n,r,S)}}break;case 5:Er(m,m.return);break;case 22:if(m.memoizedState!==null){mu(h);continue}}v!==null?(v.return=m,C=v):mu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dc("display",o))}catch(S){Y(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Y(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Be(e,t),Ye(t),n&4&&pu(t);break;case 21:break;default:Be(e,t),Ye(t)}}function Ye(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Dd(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kn(s,""),n.flags&=-33);var i=fu(t);Yo(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=fu(t);Jo(t,a,o);break;default:throw Error(b(161))}}catch(l){Y(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $p(t,e,r){C=t,Md(t)}function Md(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||hs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||me;a=hs;var c=me;if(hs=o,(me=l)&&!c)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?yu(s):l!==null?(l.return=o,C=l):yu(s);for(;i!==null;)C=i,Md(i),i=i.sibling;C=s,hs=a,me=c}gu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):gu(t)}}function gu(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||pi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!me)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ve(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zl(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zl(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&En(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}me||e.flags&512&&Qo(e)}catch(m){Y(e,e.return,m)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function mu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function yu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{pi(4,e)}catch(l){Y(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Y(e,s,l)}}var i=e.return;try{Qo(e)}catch(l){Y(e,i,l)}break;case 5:var o=e.return;try{Qo(e)}catch(l){Y(e,o,l)}}}catch(l){Y(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var Dp=Math.ceil,Js=gt.ReactCurrentDispatcher,Ya=gt.ReactCurrentOwner,Ue=gt.ReactCurrentBatchConfig,U=0,le=null,te=null,ce=0,Te=0,Nr=Dt(0),ie=0,Dn=null,rr=0,gi=0,Xa=0,mn=null,Se=null,Za=0,Mr=1/0,it=null,Ys=!1,Xo=null,Ot=null,fs=!1,bt=null,Xs=0,yn=0,Zo=null,Cs=-1,Ts=0;function xe(){return U&6?ee():Cs!==-1?Cs:Cs=ee()}function Lt(t){return t.mode&1?U&2&&ce!==0?ce&-ce:xp.transition!==null?(Ts===0&&(Ts=jc()),Ts):(t=F,t!==0||(t=window.event,t=t===void 0?16:Oc(t.type)),t):1}function Qe(t,e,r,n){if(50<yn)throw yn=0,Zo=null,Error(b(185));Bn(t,r,n),(!(U&2)||t!==le)&&(t===le&&(!(U&2)&&(gi|=r),ie===4&&kt(t,ce)),Ce(t,n),r===1&&U===0&&!(e.mode&1)&&(Mr=ee()+500,di&&Ut()))}function Ce(t,e){var r=t.callbackNode;xf(t,e);var n=As(t,t===le?ce:0);if(n===0)r!==null&&El(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&El(r),e===1)t.tag===0?wp(vu.bind(null,t)):Jc(vu.bind(null,t)),gp(function(){!(U&6)&&Ut()}),r=null;else{switch(bc(n)){case 1:r=ba;break;case 4:r=kc;break;case 16:r=Rs;break;case 536870912:r=Sc;break;default:r=Rs}r=Gd(r,Fd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Fd(t,e){if(Cs=-1,Ts=0,U&6)throw Error(b(327));var r=t.callbackNode;if(Ir()&&t.callbackNode!==r)return null;var n=As(t,t===le?ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Zs(t,n);else{e=n;var s=U;U|=2;var i=Wd();(le!==t||ce!==e)&&(it=null,Mr=ee()+500,Yt(t,e));do try{Mp();break}catch(a){Bd(t,a)}while(!0);Ua(),Js.current=i,U=s,te!==null?e=0:(le=null,ce=0,e=ie)}if(e!==0){if(e===2&&(s=Eo(t),s!==0&&(n=s,e=ea(t,s))),e===1)throw r=Dn,Yt(t,0),kt(t,n),Ce(t,ee()),r;if(e===6)kt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Up(s)&&(e=Zs(t,n),e===2&&(i=Eo(t),i!==0&&(n=i,e=ea(t,i))),e===1))throw r=Dn,Yt(t,0),kt(t,n),Ce(t,ee()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(b(345));case 2:Ht(t,Se,it);break;case 3:if(kt(t,n),(n&130023424)===n&&(e=Za+500-ee(),10<e)){if(As(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ro(Ht.bind(null,t,Se,it),e);break}Ht(t,Se,it);break;case 4:if(kt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ge(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dp(n/1960))-n,10<n){t.timeoutHandle=Ro(Ht.bind(null,t,Se,it),n);break}Ht(t,Se,it);break;case 5:Ht(t,Se,it);break;default:throw Error(b(329))}}}return Ce(t,ee()),t.callbackNode===r?Fd.bind(null,t):null}function ea(t,e){var r=mn;return t.current.memoizedState.isDehydrated&&(Yt(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=Se,Se=r,e!==null&&ta(e)),t}function ta(t){Se===null?Se=t:Se.push.apply(Se,t)}function Up(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Je(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kt(t,e){for(e&=~Xa,e&=~gi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ge(e),n=1<<r;t[r]=-1,e&=~n}}function vu(t){if(U&6)throw Error(b(327));Ir();var e=As(t,0);if(!(e&1))return Ce(t,ee()),null;var r=Zs(t,e);if(t.tag!==0&&r===2){var n=Eo(t);n!==0&&(e=n,r=ea(t,n))}if(r===1)throw r=Dn,Yt(t,0),kt(t,e),Ce(t,ee()),r;if(r===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ht(t,Se,it),Ce(t,ee()),null}function el(t,e){var r=U;U|=1;try{return t(e)}finally{U=r,U===0&&(Mr=ee()+500,di&&Ut())}}function nr(t){bt!==null&&bt.tag===0&&!(U&6)&&Ir();var e=U;U|=1;var r=Ue.transition,n=F;try{if(Ue.transition=null,F=1,t)return t()}finally{F=n,Ue.transition=r,U=e,!(U&6)&&Ut()}}function tl(){Te=Nr.current,H(Nr)}function Yt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pp(r)),te!==null)for(r=te.return;r!==null;){var n=r;switch(Aa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ms();break;case 3:Ur(),H(Ee),H(ye),Va();break;case 5:Wa(n);break;case 4:Ur();break;case 13:H(G);break;case 19:H(G);break;case 10:za(n.type._context);break;case 22:case 23:tl()}r=r.return}if(le=t,te=t=It(t.current,null),ce=Te=e,ie=0,Dn=null,Xa=gi=rr=0,Se=mn=null,Qt!==null){for(e=0;e<Qt.length;e++)if(r=Qt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Qt=null}return t}function Bd(t,e){do{var r=te;try{if(Ua(),bs.current=Qs,Gs){for(var n=Q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gs=!1}if(tr=0,ae=se=Q=null,pn=!1,Rn=0,Ya.current=null,r===null||r.return===null){ie=1,Dn=e,te=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=iu(o);if(v!==null){v.flags&=-257,ou(v,o,a,i,e),v.mode&1&&su(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var S=new Set;S.add(l),e.updateQueue=S}else w.add(l);break e}else{if(!(e&1)){su(i,c,e),rl();break e}l=Error(b(426))}}else if(q&&a.mode&1){var k=iu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ou(k,o,a,i,e),$a(zr(l,a));break e}}i=l=zr(l,a),ie!==4&&(ie=2),mn===null?mn=[i]:mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=bd(i,l,e);Xl(i,p);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ot===null||!Ot.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Ed(i,a,e);Xl(i,y);break e}}i=i.return}while(i!==null)}Hd(r)}catch(x){e=x,te===r&&r!==null&&(te=r=r.return);continue}break}while(!0)}function Wd(){var t=Js.current;return Js.current=Qs,t===null?Qs:t}function rl(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(rr&268435455)&&!(gi&268435455)||kt(le,ce)}function Zs(t,e){var r=U;U|=2;var n=Wd();(le!==t||ce!==e)&&(it=null,Yt(t,e));do try{zp();break}catch(s){Bd(t,s)}while(!0);if(Ua(),U=r,Js.current=n,te!==null)throw Error(b(261));return le=null,ce=0,ie}function zp(){for(;te!==null;)Vd(te)}function Mp(){for(;te!==null&&!df();)Vd(te)}function Vd(t){var e=Kd(t.alternate,t,Te);t.memoizedProps=t.pendingProps,e===null?Hd(t):te=e,Ya.current=null}function Hd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ip(r,e),r!==null){r.flags&=32767,te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,te=null;return}}else if(r=Lp(r,e,Te),r!==null){te=r;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ie===0&&(ie=5)}function Ht(t,e,r){var n=F,s=Ue.transition;try{Ue.transition=null,F=1,Fp(t,e,r,n)}finally{Ue.transition=s,F=n}return null}function Fp(t,e,r,n){do Ir();while(bt!==null);if(U&6)throw Error(b(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(_f(t,i),t===le&&(te=le=null,ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fs||(fs=!0,Gd(Rs,function(){return Ir(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var o=F;F=1;var a=U;U|=4,Ya.current=null,Ap(t,r),zd(r,t),ap(Lo),$s=!!Oo,Lo=Oo=null,t.current=r,$p(r),hf(),U=a,F=o,Ue.transition=i}else t.current=r;if(fs&&(fs=!1,bt=t,Xs=s),i=t.pendingLanes,i===0&&(Ot=null),gf(r.stateNode),Ce(t,ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,t=Xo,Xo=null,t;return Xs&1&&t.tag!==0&&Ir(),i=t.pendingLanes,i&1?t===Zo?yn++:(yn=0,Zo=t):yn=0,Ut(),null}function Ir(){if(bt!==null){var t=bc(Xs),e=Ue.transition,r=F;try{if(Ue.transition=null,F=16>t?16:t,bt===null)var n=!1;else{if(t=bt,bt=null,Xs=0,U&6)throw Error(b(331));var s=U;for(U|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(C=c;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:gn(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var m=d.sibling,v=d.return;if($d(d),d===c){C=null;break}if(m!==null){m.return=v,C=m;break}C=v}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,C=p;break e}C=i.return}}var f=t.current;for(C=f;C!==null;){o=C;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,C=g;else e:for(o=f;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pi(9,a)}}catch(x){Y(a,a.return,x)}if(a===o){C=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,C=y;break e}C=a.return}}if(U=s,Ut(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(oi,t)}catch{}n=!0}return n}finally{F=r,Ue.transition=e}}return!1}function wu(t,e,r){e=zr(r,e),e=bd(t,e,1),t=Pt(t,e,1),e=xe(),t!==null&&(Bn(t,1,e),Ce(t,e))}function Y(t,e,r){if(t.tag===3)wu(t,t,r);else for(;e!==null;){if(e.tag===3){wu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ot===null||!Ot.has(n))){t=zr(r,t),t=Ed(e,t,1),e=Pt(e,t,1),t=xe(),e!==null&&(Bn(e,1,t),Ce(e,t));break}}e=e.return}}function Bp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&r,le===t&&(ce&r)===r&&(ie===4||ie===3&&(ce&130023424)===ce&&500>ee()-Za?Yt(t,0):Xa|=r),Ce(t,e)}function qd(t,e){e===0&&(t.mode&1?(e=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):e=1);var r=xe();t=ft(t,e),t!==null&&(Bn(t,e,r),Ce(t,r))}function Wp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),qd(t,r)}function Vp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(e),qd(t,r)}var Kd;Kd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return be=!1,Op(t,e,r);be=!!(t.flags&131072)}else be=!1,q&&e.flags&1048576&&Yc(e,Ws,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ns(t,e),t=e.pendingProps;var s=Ar(e,ye.current);Lr(e,r),s=qa(null,e,n,t,s,r);var i=Ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(n)?(i=!0,Fs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fa(e),s.updater=fi,e.stateNode=s,s._reactInternals=e,Fo(e,n,t,r),e=Vo(null,e,n,!0,i,r)):(e.tag=0,q&&i&&Ra(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ns(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=qp(n),t=Ve(n,t),s){case 0:e=Wo(null,e,n,t,r);break e;case 1:e=uu(null,e,n,t,r);break e;case 11:e=au(null,e,n,t,r);break e;case 14:e=lu(null,e,n,Ve(n.type,t),r);break e}throw Error(b(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),Wo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),uu(t,e,n,s,r);case 3:e:{if(Pd(e),t===null)throw Error(b(387));n=e.pendingProps,i=e.memoizedState,s=i.element,nd(t,e),qs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zr(Error(b(423)),e),e=cu(t,e,n,r,s);break e}else if(n!==s){s=zr(Error(b(424)),e),e=cu(t,e,n,r,s);break e}else for(Pe=Tt(e.stateNode.containerInfo.firstChild),Oe=e,q=!0,Ke=null,r=td(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($r(),n===s){e=pt(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return sd(e),t===null&&Uo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Io(n,s)?o=null:i!==null&&Io(n,i)&&(e.flags|=32),Td(t,e),we(t,e,o,r),e.child;case 6:return t===null&&Uo(e),null;case 13:return Od(t,e,r);case 4:return Ba(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Dr(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),au(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,W(Vs,n._currentValue),n._currentValue=o,i!==null)if(Je(i.value,o)){if(i.children===s.children&&!Ee.current){e=pt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ct(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),zo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),zo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Lr(e,r),s=Me(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=Ve(n,e.pendingProps),s=Ve(n.type,s),lu(t,e,n,s,r);case 15:return Nd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),Ns(t,e),e.tag=1,Ne(n)?(t=!0,Fs(e)):t=!1,Lr(e,r),jd(e,n,s),Fo(e,n,s,r),Vo(null,e,n,!0,t,r);case 19:return Ld(t,e,r);case 22:return Cd(t,e,r)}throw Error(b(156,e.tag))};function Gd(t,e){return _c(t,e)}function Hp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,e,r,n){return new Hp(t,e,r,n)}function nl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qp(t){if(typeof t=="function")return nl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ka)return 11;if(t===Sa)return 14}return 2}function It(t,e){var r=t.alternate;return r===null?(r=De(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ps(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")nl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yr:return Xt(r.children,s,i,e);case _a:o=8,s|=8;break;case co:return t=De(12,r,e,s|2),t.elementType=co,t.lanes=i,t;case ho:return t=De(13,r,e,s),t.elementType=ho,t.lanes=i,t;case fo:return t=De(19,r,e,s),t.elementType=fo,t.lanes=i,t;case sc:return mi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rc:o=10;break e;case nc:o=9;break e;case ka:o=11;break e;case Sa:o=14;break e;case wt:o=16,n=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=De(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Xt(t,e,r,n){return t=De(7,t,n,e),t.lanes=r,t}function mi(t,e,r,n){return t=De(22,t,n,e),t.elementType=sc,t.lanes=r,t.stateNode={isHidden:!1},t}function Yi(t,e,r){return t=De(6,t,null,e),t.lanes=r,t}function Xi(t,e,r){return e=De(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sl(t,e,r,n,s,i,o,a,l){return t=new Kp(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=De(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(i),t}function Gp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Qd(t){if(!t)return At;t=t._reactInternals;e:{if(ir(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var r=t.type;if(Ne(r))return Qc(t,r,e)}return e}function Jd(t,e,r,n,s,i,o,a,l){return t=sl(r,n,!0,t,s,i,o,a,l),t.context=Qd(null),r=t.current,n=xe(),s=Lt(r),i=ct(n,s),i.callback=e??null,Pt(r,i,s),t.current.lanes=s,Bn(t,s,n),Ce(t,n),t}function yi(t,e,r,n){var s=e.current,i=xe(),o=Lt(s);return r=Qd(r),e.context===null?e.context=r:e.pendingContext=r,e=ct(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pt(s,e,o),t!==null&&(Qe(t,s,o,i),js(t,s,o)),o}function ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function il(t,e){xu(t,e),(t=t.alternate)&&xu(t,e)}function Qp(){return null}var Yd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ol(t){this._internalRoot=t}vi.prototype.render=ol.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));yi(t,e,null,null)};vi.prototype.unmount=ol.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nr(function(){yi(null,t,null,null)}),e[ht]=null}};function vi(t){this._internalRoot=t}vi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_t.length&&e!==0&&e<_t[r].priority;r++);_t.splice(r,0,t),r===0&&Pc(t)}};function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _u(){}function Jp(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ei(o);i.call(c)}}var o=Jd(e,n,t,0,null,!1,!1,"",_u);return t._reactRootContainer=o,t[ht]=o.current,Tn(t.nodeType===8?t.parentNode:t),nr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ei(l);a.call(c)}}var l=sl(t,0,!1,null,null,!1,!1,"",_u);return t._reactRootContainer=l,t[ht]=l.current,Tn(t.nodeType===8?t.parentNode:t),nr(function(){yi(e,l,r,n)}),l}function xi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ei(o);a.call(l)}}yi(e,o,t,s)}else o=Jp(r,e,t,s,n);return ei(o)}Ec=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=on(e.pendingLanes);r!==0&&(Ea(e,r|1),Ce(e,ee()),!(U&6)&&(Mr=ee()+500,Ut()))}break;case 13:nr(function(){var n=ft(t,1);if(n!==null){var s=xe();Qe(n,t,1,s)}}),il(t,1)}};Na=function(t){if(t.tag===13){var e=ft(t,134217728);if(e!==null){var r=xe();Qe(e,t,134217728,r)}il(t,134217728)}};Nc=function(t){if(t.tag===13){var e=Lt(t),r=ft(t,e);if(r!==null){var n=xe();Qe(r,t,e,n)}il(t,e)}};Cc=function(){return F};Tc=function(t,e){var r=F;try{return F=t,e()}finally{F=r}};So=function(t,e,r){switch(e){case"input":if(mo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ci(n);if(!s)throw Error(b(90));oc(n),mo(n,s)}}}break;case"textarea":lc(t,r);break;case"select":e=r.value,e!=null&&Cr(t,!!r.multiple,e,!1)}};gc=el;mc=nr;var Yp={usingClientEntryPoint:!1,Events:[Vn,_r,ci,fc,pc,el]},tn={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xp={bundleType:tn.bundleType,version:tn.version,rendererPackageName:tn.rendererPackageName,rendererConfig:tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wc(t),t===null?null:t.stateNode},findFiberByHostInstance:tn.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{oi=ps.inject(Xp),tt=ps}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yp;Ie.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!al(e))throw Error(b(200));return Gp(t,e,null,r)};Ie.createRoot=function(t,e){if(!al(t))throw Error(b(299));var r=!1,n="",s=Yd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sl(t,1,!1,null,null,r,!1,n,s),t[ht]=e.current,Tn(t.nodeType===8?t.parentNode:t),new ol(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=wc(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return nr(t)};Ie.hydrate=function(t,e,r){if(!wi(e))throw Error(b(200));return xi(null,t,e,!0,r)};Ie.hydrateRoot=function(t,e,r){if(!al(t))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Yd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Jd(e,null,t,1,r??null,s,!1,i,o),t[ht]=e.current,Tn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new vi(e)};Ie.render=function(t,e,r){if(!wi(e))throw Error(b(200));return xi(null,t,e,!1,r)};Ie.unmountComponentAtNode=function(t){if(!wi(t))throw Error(b(40));return t._reactRootContainer?(nr(function(){xi(null,null,t,!1,function(){t._reactRootContainer=null,t[ht]=null})}),!0):!1};Ie.unstable_batchedUpdates=el;Ie.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!wi(r))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return xi(t,e,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function Xd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xd)}catch(t){console.error(t)}}Xd(),Xu.exports=Ie;var Zp=Xu.exports,Zd,ku=Zp;Zd=ku.createRoot,ku.hydrateRoot;const eg="modulepreload",tg=function(t){return"/"+t},Su={},qn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=tg(l),l in Su)return;Su[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":eg,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},rg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Hr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ll extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ng extends ll{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ju extends ll{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bu extends ll{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ra;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ra||(ra={}));var sg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class ig{constructor(e,{headers:r={},customFetch:n,region:s=ra.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=rg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return sg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(S=>{throw new ng(S)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new ju(h);if(!h.ok)throw new bu(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof bu||s instanceof ju?s.context:void 0}}})}}var je={},ul={},_i={},Kn={},ki={},Si={},og=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fr=og();const ag=Fr.fetch,eh=Fr.fetch.bind(Fr),th=Fr.Headers,lg=Fr.Request,ug=Fr.Response,Hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:th,Request:lg,Response:ug,default:eh,fetch:ag},Symbol.toStringTag,{value:"Module"})),cg=Eh(Hr);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});let dg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ji.default=dg;var rh=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const hg=rh(cg),fg=rh(ji);let pg=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,h=null,m=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const k=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),p=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&p&&p.length>1&&(m=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&k===""?(v=204,w="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new fg.default(d)}return{error:d,data:h,count:m,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Si.default=pg;var gg=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ki,"__esModule",{value:!0});const mg=gg(Si);let yg=class extends mg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ki.default=yg;var vg=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});const wg=vg(ki);let xg=class extends wg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Kn.default=xg;var _g=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const rn=_g(Kn);let kg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new rn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new rn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};_i.default=kg;var nh=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});const Sg=nh(_i),jg=nh(Kn);let bg=class sh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Sg.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{l.searchParams.append(h,m)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new jg.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ul.default=bg;var qr=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const ih=qr(ul);je.PostgrestClient=ih.default;const oh=qr(_i);je.PostgrestQueryBuilder=oh.default;const ah=qr(Kn);je.PostgrestFilterBuilder=ah.default;const lh=qr(ki);je.PostgrestTransformBuilder=lh.default;const uh=qr(Si);je.PostgrestBuilder=uh.default;const ch=qr(ji);je.PostgrestError=ch.default;var Eg=je.default={PostgrestClient:ih.default,PostgrestQueryBuilder:oh.default,PostgrestFilterBuilder:ah.default,PostgrestTransformBuilder:lh.default,PostgrestBuilder:uh.default,PostgrestError:ch.default};const{PostgrestClient:Ng,PostgrestQueryBuilder:ry,PostgrestFilterBuilder:ny,PostgrestTransformBuilder:sy,PostgrestBuilder:iy,PostgrestError:oy}=Eg;class Cg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tg="2.15.5",Pg=`realtime-js/${Tg}`,Og="1.0.0",na=1e4,Lg=1e3,Ig=100;var vn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vn||(vn={}));var re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(re||(re={}));var qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qe||(qe={}));var sa;(function(t){t.websocket="websocket"})(sa||(sa={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class Rg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class dh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Eu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ag(o,t,e,s),i),{})},Ag=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?hh(i,o):ia(o)},hh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zg(e,r)}switch(t){case B.bool:return $g(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Dg(e);case B.json:case B.jsonb:return Ug(e);case B.timestamp:return Mg(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return ia(e);default:return ia(e)}},ia=t=>t,$g=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ug=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>hh(e,a))}return t},Mg=t=>typeof t=="string"?t.replace(" ","T"):t,fh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Zi{constructor(e,r,n={},s=na){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nu||(Nu={}));class wn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=wn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),w=d.filter(k=>v.indexOf(k.presence_ref)<0),S=h.filter(k=>m.indexOf(k.presence_ref)<0);w.length>0&&(a[c]=w),S.length>0&&(l[c]=S)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...m)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cu||(Cu={}));var xn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xn||(xn={}));var ot;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class cl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zi(this,qe.join,this.params,this.timeout),this.rejoinTimer=new dh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wn(this),this.broadcastEndpointURL=fh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[xn.PRESENCE]&&this.bindings[xn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ot.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ot.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(ot.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,p=[];for(let f=0;f<k;f++){const g=S[f],{filter:{event:y,schema:x,table:_,filter:j}}=g,E=v&&v[f];if(E&&E.event===y&&E.schema===x&&E.table===_&&E.filter===j)p.push(Object.assign(Object.assign({},g),{id:E.id}));else{this.unsubscribe(),this.state=re.errored,e==null||e(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(ot.SUBSCRIBED);return}}).receive("error",v=>{this.state=re.errored,e==null||e(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===re.joined&&e===xn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zi(this,qe.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=re.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zi(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ig){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=qe;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,S,k;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(S=v.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,S,k,p,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,x=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((S=r.ids)===null||S===void 0?void 0:S.includes(y))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const y=(f=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return y==="*"||y===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:S,table:k,commit_timestamp:p,type:f,errors:g}=w;m=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(m,n)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Eu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Eu(e.columns,e.old_record)),r}}const eo=()=>{},gs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fg=[1e3,2e3,5e3,1e4],Bg=1e4,Wg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=na,this.transport=null,this.heartbeatIntervalMs=gs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eo,this.ref=0,this.reconnectTimer=null,this.logger=eo,this.conn=null,this.sendBuffer=[],this.serializer=new Rg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>qn(async()=>{const{default:a}=await Promise.resolve().then(()=>Hr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${sa.websocket}`,this.httpEndpoint=fh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Og}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vn.connecting:return Kt.Connecting;case vn.open:return Kt.Open;case vn.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new cl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Wg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Pg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(qe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:na,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:gs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:eo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Fg[h-1]||Bg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Hg extends dl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oa extends dl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var qg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Hr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Kg=()=>qg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qn(()=>Promise.resolve().then(()=>Hr),void 0)).Response:Response}),aa=t=>{if(Array.isArray(t))return t.map(r=>aa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=aa(n)}),e},Gg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var or=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const to=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qg=(t,e,r)=>or(void 0,void 0,void 0,function*(){const n=yield Kg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Hg(to(s),i,o))}).catch(s=>{e(new oa(to(s),s))}):e(new oa(to(t),t))}),Jg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Gg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Gn(t,e,r,n,s,i){return or(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Jg(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Qg(l,a,n))})})}function ti(t,e,r,n){return or(this,void 0,void 0,function*(){return Gn(t,"GET",e,r,n)})}function Ze(t,e,r,n,s){return or(this,void 0,void 0,function*(){return Gn(t,"POST",e,n,s,r)})}function la(t,e,r,n,s){return or(this,void 0,void 0,function*(){return Gn(t,"PUT",e,n,s,r)})}function Yg(t,e,r,n){return or(this,void 0,void 0,function*(){return Gn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gh(t,e,r,n,s){return or(this,void 0,void 0,function*(){return Gn(t,"DELETE",e,n,s,r)})}var ve=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Xg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zg{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=ph(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?la:Ze)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Tu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield la(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ze(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new dl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}update(e,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ve(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ze(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ve(this,void 0,void 0,function*(){try{const s=yield Ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}download(e,r){return ve(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ti(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ne(a))return{data:null,error:a};throw a}})}info(e){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:aa(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}exists(e){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Yg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n)&&n instanceof oa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}list(e,r,n){return ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Xg),r),{prefix:e||""});return{data:yield Ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}listV2(e,r){return ve(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const em="2.12.1",tm={"X-Client-Info":`storage-js/${em}`};var ur=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class rm{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},tm),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ur(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ur(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield Ze(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}}class nm extends rm{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Zg(this.url,this.headers,e,this.fetch)}}const sm="2.57.4";let ln="";typeof Deno<"u"?ln="deno":typeof document<"u"?ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ln="react-native":ln="node";const im={"X-Client-Info":`supabase-js-${ln}/${sm}`},om={headers:im},am={schema:"public"},lm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},um={};var cm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const dm=t=>{let e;return t?e=t:typeof fetch>"u"?e=eh:e=fetch,(...r)=>e(...r)},hm=()=>typeof Headers>"u"?th:Headers,fm=(t,e,r)=>{const n=dm(r),s=hm();return(i,o)=>cm(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var pm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function gm(t){return t.endsWith("/")?t:t+"/"}function mm(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pm(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function ym(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mh="2.71.1",pr=30*1e3,ua=3,ro=ua*pr,vm="http://localhost:9999",wm="supabase.auth.token",xm={"X-Client-Info":`gotrue-js/${mh}`},ca="X-Supabase-Api-Version",yh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_m=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,km=10*60*1e3;class hl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Sm extends hl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jm(t){return L(t)&&t.name==="AuthApiError"}class vh extends hl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class zt extends hl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class vt extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bm(t){return L(t)&&t.name==="AuthSessionMissingError"}class ms extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vs extends zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Em(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pu extends zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class da extends zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function no(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Ou extends zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ha extends zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lu=` 	
\r=`.split(""),Nm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lu.length;e+=1)t[Lu[e].charCodeAt(0)]=-2;for(let e=0;e<ri.length;e+=1)t[ri[e].charCodeAt(0)]=e;return t})();function Iu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ri[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ri[n]),e.queuedBits-=6}}function wh(t,e,r){const n=Nm[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ru(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Pm(o,n,r)};for(let o=0;o<t.length;o+=1)wh(t.charCodeAt(o),s,i);return e.join("")}function Cm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Tm(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Cm(n,e)}}function Pm(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Om(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)wh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Lm(t){const e=[];return Tm(t,r=>e.push(r)),new Uint8Array(e)}function Im(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Iu(s,r,n)),Iu(null,r,n),e.join("")}function Rm(t){return Math.round(Date.now()/1e3)+t}function Am(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const We=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},xh=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function $m(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const _h=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Hr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Dm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Wt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yt=async(t,e)=>{await t.removeItem(e)};class bi{constructor(){this.promise=new bi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}bi.promiseConstructor=Promise;function so(t){const e=t.split(".");if(e.length!==3)throw new ha("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_m.test(e[n]))throw new ha("JWT not in base64url format");return{header:JSON.parse(Ru(e[0])),payload:JSON.parse(Ru(e[1])),signature:Om(e[2]),raw:{header:e[0],payload:e[1]}}}async function Um(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zm(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Mm(t){return("0"+t.toString(16)).substr(-2)}function Fm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Mm).join("")}async function Bm(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Wm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Bm(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(t,e,r=!1){const n=Fm();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await gr(t,`${e}-code-verifier`,s);const i=await Wm(n);return[i,n===i?"plain":"s256"]}const Vm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hm(t){const e=t.headers.get(ca);if(!e||!e.match(Vm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Km(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dr(t){if(!Gm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function io(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Au(t){return JSON.parse(JSON.stringify(t))}var Qm=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jm=[502,503,504];async function $u(t){var e;if(!Dm(t))throw new da(qt(t),0);if(Jm.includes(t.status))throw new da(qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new vh(qt(i),i)}let n;const s=Hm(t);if(s&&s.getTime()>=yh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ou(qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ou(qt(r),t.status,r.weak_password.reasons);throw new Sm(qt(r),t.status||500,n)}const Ym=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ca]||(i[ca]=yh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Xm(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Xm(t,e,r,n,s,i){const o=Ym(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new da(qt(l),0)}if(a.ok||await $u(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $u(l)}}function st(t){var e;let r=null;r0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Rm(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Du(t){const e=st(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function St(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zm(t){return{data:t,error:null}}function e0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Qm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function t0(t){return t}function r0(t){return t.access_token&&t.refresh_token&&t.expires_in}const oo=["global","local","others"];var n0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class s0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_h(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=oo[0]){if(oo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:St})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=n0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:St})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:t0});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){dr(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:St})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){dr(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:St})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){dr(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:St})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){dr(e.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(e){dr(e.userId),dr(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}function Uu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function i0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hr={debug:!!(globalThis&&xh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o0 extends kh{}async function a0(t,e,r){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}i0();const l0={url:vm,storageKey:wm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zu(t,e,r){return await r()}const fr={};class Un{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Un.nextInstanceID,Un.nextInstanceID+=1,this.instanceID>0&&We()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},l0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_h(s.fetch),this.lock=s.lock||zu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:We()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=a0:this.lock=zu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:xh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=$m(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Em(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new vh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:st}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await cr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:st})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:st})}else throw new ys("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else throw new ys("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ms}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,m,v;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:k,wallet:p,statement:f,options:g}=e;let y;if(We())if(typeof p=="object")y=p;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))y=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=p}const x=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const _=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),S=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${x.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=_}}try{const{data:k,error:p}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Im(S)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:st});if(p)throw p;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ms}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:p})}catch(k){if(L(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const r=await Wt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:st});if(await yt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ms}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:st}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ms}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cr(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ys("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:st});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cr(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Zm})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new vt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ys("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Wt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ro:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Wt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=io()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:St}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:St})})}catch(r){if(L(r))return bm(r)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new vt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await cr(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:St});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=so(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!We())throw new vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pu("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new vs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let m=d+h;l&&(m=parseInt(l));const v=m-d;v*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(L(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Wt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Am(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(L(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zm(async s=>(s>0&&await Um(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:st})),(s,i)=>{const o=200*Math.pow(2,s);return i&&no(i)&&Date.now()+o-n<pr})}catch(n){if(this._debug(r,"error",n),L(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Wt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Wt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await gr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:io()}else if(s&&!s.user&&!s.user){const o=await Wt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await yt(this.storage,this.storageKey+"-user"),await gr(this.storage,this.storageKey,s)):s.user=io()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ro;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ro}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),no(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return no(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Au(s);await gr(this.storage,this.storageKey,i)}else{const s=Au(r);await gr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pr}ms, refresh threshold is ${ua} ticks`),s<=ua&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=so(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+km>s)return n;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=so(n);r!=null&&r.allowExpired||qm(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Km(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Lm(`${a}.${l}`)))throw new ha("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}Un.nextInstanceID=0;const u0=Un;class c0 extends u0{constructor(e){super(e)}}var d0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class h0{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=ym(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:am,realtime:um,auth:Object.assign(Object.assign({},lm),{storageKey:l}),global:om},d=mm(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=fm(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ng(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new nm(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new ig(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return d0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c0({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Vg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f0=(t,e,r)=>new h0(t,e,r);function p0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}p0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const g0="https://kreufabhriiwgbvoovlz.supabase.co",m0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZXVmYWJocmlpd2didm9vdmx6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIzNTQ5MTgsImV4cCI6MjA1NzkzMDkxOH0.ImhPqv5L3YOAmZ5X1Q8uWLYRQpRO8aHtayg3q17SHLY",X=f0(g0,m0,{auth:{persistSession:!0,storage:{getItem:t=>new Promise(e=>{chrome.storage.local.get([t],r=>{const n=r[t];e(typeof n=="string"?n:null)})}),setItem:(t,e)=>new Promise(r=>{chrome.storage.local.set({[t]:e},()=>{r()})}),removeItem:t=>new Promise(e=>{chrome.storage.local.remove([t],()=>{e()})})}}});function y0(){const[t,e]=P.useState(""),[r,n]=P.useState(""),[s,i]=P.useState(!1),[o,a]=P.useState(!1),[l,c]=P.useState(null),d=async m=>{m.preventDefault(),i(!0),c(null);try{const{error:v}=await X.auth.signInWithPassword({email:t,password:r});if(v)throw v}catch(v){c(v instanceof Error?v.message:"An error occurred")}finally{i(!1)}},h=async()=>{a(!0),c(null);try{const{error:m}=await X.auth.signInWithOAuth({provider:"google",options:{skipBrowserRedirect:!0}});if(m)throw m}catch(m){c(m instanceof Error?m.message:"Failed to sign in with Google"),a(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/15 flex items-center justify-center p-6",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-2",children:u.jsx("img",{src:"/wonderflow-coloricon.png",alt:"Wonderflow",className:"w-16 h-16"})}),u.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:"Wonderflow"}),u.jsx("p",{className:"text-center text-gray-600 mb-3",children:"Sign in to access your Audiences and Copy"}),u.jsxs("form",{onSubmit:d,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{id:"email",type:"email",value:t,onChange:m=>e(m.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"you@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{id:"password",type:"password",value:r,onChange:m=>n(m.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:""})]}),l&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:l}),u.jsx("button",{type:"submit",disabled:s||o,className:"w-full bg-primary text-white py-3 rounded-full text-md font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-dark",children:s?"Signing in...":"Sign In"})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),u.jsxs("button",{onClick:h,disabled:s||o,className:"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-full font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 hover:border-gray-400 flex items-center justify-center gap-3",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?"Signing in...":"Continue with Google"]}),u.jsxs("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Don't have an account?"," ",u.jsx("a",{href:"https://app.wonderflow.io",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-medium hover:underline",children:"Sign up"})]})]})})})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>P.createElement("svg",{ref:d,...v0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${w0(t)}`,a].join(" "),...c},[...e.map(([h,m])=>P.createElement(h,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=z("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=z("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=z("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=z("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=z("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=z("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function M0({audiences:t,onSelectAudience:e,onBack:r}){const[n,s]=P.useState(""),i=t.filter(o=>{var l,c,d;const a=n.toLowerCase();return o.name.toLowerCase().includes(a)||((l=o.notes)==null?void 0:l.toLowerCase().includes(a))||((c=o.goal)==null?void 0:c.toLowerCase().includes(a))||((d=o.tags)==null?void 0:d.some(h=>h.toLowerCase().includes(a)))});return u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Kr,{className:"w-5 h-5 text-gray-600"})}),u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"All Audiences"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-primary"}),u.jsx("input",{type:"text",placeholder:"Search audiences...",value:n,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:u.jsx("div",{className:"space-y-3",children:i.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500",children:n?"No audiences found matching your search":"No audiences available"})}):i.map(o=>u.jsxs("button",{onClick:()=>e(o),className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.name}),o.notes&&u.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.notes}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o.goal&&u.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full capitalize",children:o.goal}),o.funnel_stage&&u.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full capitalize",children:o.funnel_stage})]}),o.tags&&o.tags.length>0&&u.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[o.tags.slice(0,3).map((a,l)=>u.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded",children:a},l)),o.tags.length>3&&u.jsxs("span",{className:"text-xs px-2 py-0.5 text-gray-500",children:["+",o.tags.length-3," more"]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Created ",new Date(o.created_at).toLocaleDateString()]})]},o.id))})})]})}function F0({data:t}){const[e,r]=P.useState(new Set),n=o=>{r(a=>{const l=new Set(a);return l.has(o)?l.delete(o):l.add(o),l})},s=o=>o.toLocaleString(),i=o=>{const a=o.toLowerCase();return a==="high"?"bg-red-100 text-red-700 border-red-200":a==="medium"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-blue-100 text-blue-700 border-blue-200"};return u.jsxs("div",{className:"space-y-6",children:[t.estimated_reach&&u.jsxs("div",{className:"bg-primary/10 rounded-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(A0,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Estimated Reach"})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s(t.estimated_reach.min)}),u.jsx("p",{className:"text-2xl font-bold text-primary",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s(t.estimated_reach.max)})]})]}),t.targeting_categories&&t.targeting_categories.length>0&&u.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(bh,{className:"w-4 h-4 text-gray-700"}),u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Targeting Categories"})]}),u.jsx("div",{className:"space-y-3",children:t.targeting_categories.map((o,a)=>{const l=e.has(a);return u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>n(a),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors text-left",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"font-semibold text-gray-900",children:o.category}),u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${i(o.priority)}`,children:o.priority.charAt(0).toUpperCase()+o.priority.slice(1)})]}),u.jsx("span",{className:"text-xs text-gray-500 ml-2",children:l?"":""})]}),l&&u.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:o.recommendations.map((c,d)=>u.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm border border-gray-200 hover:bg-gray-200 transition-colors",children:c},d))})})]},a)})})]}),t.audience_suggestions&&u.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(D0,{className:"w-4 h-4 text-gray-700"}),u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Audience Suggestions"})]}),u.jsxs("div",{className:"space-y-5",children:[t.audience_suggestions.exclusions&&t.audience_suggestions.exclusions.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(x0,{className:"w-4 h-4 text-red-500"}),u.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Exclusions"})]}),u.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-100",children:u.jsx("ul",{className:"space-y-2",children:t.audience_suggestions.exclusions.map((o,a)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500 mt-1",children:""}),u.jsx("span",{className:"flex-1",children:o})]},a))})})]}),t.audience_suggestions.lookalike_seeds&&t.audience_suggestions.lookalike_seeds.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Lookalike Seeds"}),u.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:u.jsx("ul",{className:"space-y-2",children:t.audience_suggestions.lookalike_seeds.map((o,a)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[u.jsx("span",{className:"text-green-600 mt-1",children:""}),u.jsx("span",{className:"flex-1",children:o})]},a))})})]}),t.audience_suggestions.custom_audiences&&t.audience_suggestions.custom_audiences.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Custom Audiences"}),u.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:u.jsx("ul",{className:"space-y-2",children:t.audience_suggestions.custom_audiences.map((o,a)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-600 mt-1",children:""}),u.jsx("span",{className:"flex-1",children:o})]},a))})})]})]})]})]})}const B0={facebook:j0,instagram:T0,linkedin:P0,twitter:$0,youtube:z0,google:Qn};function W0({audience:t,onBack:e}){var g;const[r,n]=P.useState([]),[s,i]=P.useState([]),[o,a]=P.useState([]),[l,c]=P.useState(new Set),[d,h]=P.useState(new Set),[m,v]=P.useState(null);P.useEffect(()=>{w()},[t.id]);const w=async()=>{try{const[y,x,_,j]=await Promise.all([X.from("audience_pain_points").select("*").eq("audience_id",t.id).order("sort_order",{ascending:!0}),X.from("audience_content_pillars").select("*").eq("audience_id",t.id).order("sort_order",{ascending:!0}),X.from("audience_content_blocks").select("*").eq("audience_id",t.id).order("position",{ascending:!0}),X.from("audience_targeting_layers").select("*").eq("audience_id",t.id).order("sort_order",{ascending:!0})]);if(y.error)throw y.error;if(x.error)throw x.error;if(_.error)throw _.error;if(j.error)throw j.error;n(y.data||[]),a(j.data||[]);const E=x.data||[],D=_.data||[],O=E.map(M=>({...M,blocks:D.filter(he=>he.content_pillar_id===M.id)}));i(O)}catch(y){console.error("Error fetching audience details:",y)}},S=y=>{c(x=>{const _=new Set(x);return _.has(y)?_.delete(y):_.add(y),_})},k=y=>{h(x=>{const _=new Set(x);return _.has(y)?_.delete(y):_.add(y),_})},p=async(y,x)=>{try{await navigator.clipboard.writeText(y),v(x),setTimeout(()=>v(null),2e3)}catch(_){console.error("Failed to copy:",_)}},f=y=>{const x=y.toLowerCase();return B0[x]||null};return u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Kr,{className:"w-5 h-5 text-gray-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:t.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",new Date(t.created_at).toLocaleDateString()]})]})]})}),u.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.notes&&u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1",children:"Description"}),u.jsx("p",{className:"text-gray-900 leading-relaxed whitespace-pre-wrap",children:t.notes})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Audience Details"}),u.jsxs("div",{children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.goal&&u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Goal"}),u.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:t.goal})]}),t.funnel_stage&&u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Funnel Stage"}),u.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:t.funnel_stage})]}),t.funnel_type&&u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Funnel Type"}),u.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:t.funnel_type})]})]}),u.jsx("div",{children:u.jsx("div",{className:"flex flex-wrap gap-2",children:(g=t.platforms)==null?void 0:g.map((y,x)=>u.jsx("span",{className:"px-3 py-1.5 bg-primary text-white rounded-full text-sm font-medium",children:y},x))})})]})]}),t.tags&&t.tags.length>0&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-3",children:"Tags"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((y,x)=>u.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:y},x))})]}),r.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(I0,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Pain Points"})]}),u.jsx("div",{className:"flex gap-3 overflow-x-auto snap-x snap-mandatory pb-2 px-5 scrollbar-hide",children:r.map(y=>u.jsxs("div",{className:"flex-shrink-0 w-72 bg-white rounded-lg p-4 border border-gray-200 snap-start",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:y.title}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:y.description})]},y.id))})]}),s.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(k0,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Content Pillars"})]}),u.jsx("div",{className:"space-y-3",children:s.map(y=>{const x=l.has(y.id);return u.jsxs("div",{className:"border border-gray-100 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>S(y.id),className:"w-full flex items-center justify-between p-4 bg-white hover:bg-gray-100 transition-colors text-left",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:y.name}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:y.core_promise})]}),x?u.jsx(ni,{className:"w-5 h-5 text-gray-500 flex-shrink-0 ml-3"}):u.jsx(Mn,{className:"w-5 h-5 text-gray-500 flex-shrink-0 ml-3"})]}),x&&y.blocks.length>0&&u.jsx("div",{className:"p-4 space-y-3",children:y.blocks.map(_=>u.jsxs("div",{className:"pl-4 border-l-2 border-primary/30 space-y-2",children:[_.block_type&&u.jsx("span",{className:"inline-block text-xs px-2 py-1 bg-primary/10 text-primary rounded-full font-medium",children:_.block_type.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase())}),_.messaging&&_.objection==null&&u.jsx("div",{className:"relative group",children:u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Messaging"}),u.jsx("p",{className:"text-sm text-gray-900",children:_.messaging})]}),u.jsx("button",{onClick:()=>p(_.messaging,_.id),className:"p-1.5 hover:bg-gray-100 rounded transition-colors flex-shrink-0",title:"Copy to clipboard",children:m===_.id?u.jsx(zn,{className:"w-4 h-4 text-green-600"}):u.jsx(fl,{className:"w-4 h-4 text-gray-500"})})]})}),_.intent&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Intent"}),u.jsx("p",{className:"text-sm text-gray-600",children:_.intent})]}),_.objection&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Objection"}),u.jsx("p",{className:"text-sm text-gray-600",children:_.objection})]}),_.reframe&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reframe"}),u.jsx("p",{className:"text-sm text-gray-600",children:_.reframe})]})]},_.id))}),x&&y.blocks.length===0&&u.jsx("div",{className:"p-4 text-center text-sm text-gray-500 bg-white",children:"No content blocks for this pillar"})]},y.id)})})]}),o.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(bh,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Targeting Layers"})]}),u.jsx("div",{className:"space-y-3",children:o.map(y=>{const x=d.has(y.id),_=f(y.platform);return u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>k(y.id),className:"w-full flex items-center justify-between p-4 bg-white hover:bg-gray-100 transition-colors text-left",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[_&&u.jsx(_,{className:"w-5 h-5 text-gray-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:y.name}),u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 capitalize",children:y.platform})]})]}),x?u.jsx(ni,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):u.jsx(Mn,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]}),x&&y.ai_targeting_report&&u.jsxs("div",{className:"p-4 bg-white",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"AI Targeting Report"}),u.jsx(F0,{data:typeof y.ai_targeting_report=="string"?JSON.parse(y.ai_targeting_report):y.ai_targeting_report})]})]},y.id)})})]})]})]})}function V0({playbooks:t,onSelectPlaybook:e,onBack:r}){const[n,s]=P.useState(""),i=t.filter(o=>{var l;const a=n.toLowerCase();return o.name.toLowerCase().includes(a)||((l=o.description)==null?void 0:l.toLowerCase().includes(a))});return u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Kr,{className:"w-5 h-5 text-gray-600"})}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"All Playbooks"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search playbooks...",value:n,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:u.jsx("div",{className:"space-y-3",children:i.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500",children:n?"No playbooks found matching your search":"No playbooks available"})}):i.map(o=>u.jsxs("button",{onClick:()=>e(o),className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsx("h3",{className:"font-semibold text-gray-900",children:o.name})}),o.description&&u.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.description}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",new Date(o.updated_at).toLocaleDateString()]})]},o.id))})})]})}function H0({playbook:t,onBack:e}){const[r,n]=P.useState([]),[s,i]=P.useState(null),[o,a]=P.useState([]),[l,c]=P.useState({}),[d,h]=P.useState({}),[m,v]=P.useState(!0);P.useEffect(()=>{w()},[t.id]),P.useEffect(()=>{s&&S(s.id)},[s]);const w=async()=>{try{const{data:p,error:f}=await X.from("playbook_pages").select("*").eq("playbook_id",t.id).order("order_index",{ascending:!0});if(f)throw f;n(p||[]),p&&p.length>0&&i(p[0])}catch(p){console.error("Error fetching pages:",p)}finally{v(!1)}},S=async p=>{try{const{data:f,error:g}=await X.from("playbook_sections").select("*").eq("page_id",p).eq("is_active",!0).order("order_index",{ascending:!0});if(g)throw g;if(!f||f.length===0){a([]);return}const y=f,x=y.map(M=>M.id),{data:_,error:j}=await X.from("section_variants").select("*").in("section_id",x).order("is_primary",{ascending:!1});if(j)throw j;const E=_||[],D=y.map(M=>({...M,variants:E.filter(he=>he.section_id===M.id)}));a(D);const O={};D.forEach(M=>{if(M.variants.length>0){const he=M.variants.find(N=>N.is_primary);O[M.id]=(he==null?void 0:he.id)||M.variants[0].id}}),c(O)}catch(f){console.error("Error fetching sections:",f)}},k=async p=>{const f=l[p],g=o.find(x=>x.id===p);if(!g)return;const y=g.variants.find(x=>x.id===f);if(!(!y||!y.content))try{await navigator.clipboard.writeText(y.content),h(x=>({...x,[p]:!0})),setTimeout(()=>{h(x=>({...x,[p]:!1}))},2e3)}catch(x){console.error("Failed to copy text:",x)}};return m?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx(jh,{className:"h-8 w-8 text-primary animate-spin"})}):u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Kr,{className:"w-5 h-5 text-gray-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t.name}),t.description&&u.jsx("p",{className:"text-sm text-gray-500",children:t.description})]})]}),r.length>0&&u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:r.map(p=>u.jsx("button",{onClick:()=>i(p),className:`px-2 py-1 rounded-full font-medium text-xs whitespace-nowrap transition-all ${(s==null?void 0:s.id)===p.id?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.name},p.id))})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:r.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500",children:"No pages found in this playbook"})}):o.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500",children:"No active sections found on this page"})}):u.jsx("div",{className:"space-y-4",children:o.map(p=>{var f;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[u.jsx("div",{className:"mb-3",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p.name})}),p.variants.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Select variant"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:l[p.id]||"",onChange:g=>c(y=>({...y,[p.id]:g.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent appearance-none bg-white",children:p.variants.map(g=>u.jsxs("option",{value:g.id,children:[g.variant_label,g.is_primary?" (Primary)":""]},g.id))}),u.jsx(ni,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),l[p.id]&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:u.jsx("p",{className:"text-gray-900 leading-relaxed whitespace-pre-wrap",children:(f=p.variants.find(g=>g.id===l[p.id]))==null?void 0:f.content})}),u.jsx("div",{className:"flex justify-end mt-2",children:u.jsx("button",{onClick:()=>k(p.id),className:`flex items-center gap-2 font-medium text-sm transition-all ${d[p.id]?"text-green-700":"text-primary hover:text-primary-dark"}`,children:d[p.id]?u.jsxs(u.Fragment,{children:[u.jsx(zn,{className:"w-4 h-4"}),"Copied"]}):u.jsxs(u.Fragment,{children:[u.jsx(fl,{className:"w-4 h-4"}),"Copy"]})})})]})]}),p.variants.length===0&&u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:u.jsx("p",{className:"text-gray-500 text-sm",children:"No variants available for this section"})})]},p.id)})})})]})}function q0({workspaceId:t,onBack:e}){const[r,n]=P.useState([]),[s,i]=P.useState(!0),[o,a]=P.useState(""),[l,c]=P.useState(null),[d,h]=P.useState("");P.useEffect(()=>{m()},[t]);const m=async()=>{try{const{data:k,error:p}=await X.from("tracking_links").select("*").eq("workspace_id",t).eq("is_active",!0).order("created_at",{ascending:!1});if(p)throw p;n(k||[])}catch(k){console.error("Error fetching tracking links:",k)}finally{i(!1)}},v=async k=>{try{await navigator.clipboard.writeText(k.full_url),c(k.id),setTimeout(()=>c(null),2e3)}catch(p){console.error("Failed to copy:",p)}},w=[...new Set(r.map(k=>k.utm_campaign).filter(Boolean))],S=r.filter(k=>{var g,y,x;const p=o===""||k.name.toLowerCase().includes(o.toLowerCase())||((g=k.utm_campaign)==null?void 0:g.toLowerCase().includes(o.toLowerCase()))||((y=k.utm_source)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))||k.base_url.toLowerCase().includes(o.toLowerCase())||((x=k.tags)==null?void 0:x.some(_=>_.toLowerCase().includes(o.toLowerCase()))),f=d===""||k.utm_campaign===d;return p&&f});return u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("button",{onClick:e,className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Kr,{className:"w-5 h-5 text-gray-600"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fa,{className:"w-5 h-5 text-primary"}),u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Tracking Links"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search links...",value:o,onChange:k=>a(k.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]}),w.length>0&&u.jsxs("div",{className:"mt-2 flex gap-2 overflow-x-auto pb-1",children:[u.jsx("button",{onClick:()=>h(""),className:`px-3 py-1 text-xs rounded-full whitespace-nowrap transition-colors ${d===""?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),w.map(k=>u.jsx("button",{onClick:()=>h(k||""),className:`px-3 py-1 text-xs rounded-full whitespace-nowrap transition-colors ${d===k?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:k},k))]})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:s?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):S.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(fa,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500",children:o||d?"No links match your search":"No tracking links found"})]}):u.jsx("div",{className:"space-y-3",children:S.map(k=>u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:k.name}),u.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:k.base_url})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("a",{href:k.full_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Open link",children:u.jsx(S0,{className:"w-4 h-4 text-gray-500"})}),u.jsx("button",{onClick:()=>v(k),className:`p-2 rounded-lg transition-colors ${l===k.id?"bg-green-100 text-green-600":"hover:bg-gray-100 text-gray-500"}`,title:"Copy link",children:l===k.id?u.jsx(zn,{className:"w-4 h-4"}):u.jsx(fl,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[k.utm_campaign&&u.jsx("span",{className:"text-xs px-2 py-1 bg-blue-50 text-blue-700 rounded-full",children:k.utm_campaign}),k.utm_source&&u.jsx("span",{className:"text-xs px-2 py-1 bg-green-50 text-green-700 rounded-full",children:k.utm_source}),k.utm_medium&&u.jsx("span",{className:"text-xs px-2 py-1 bg-amber-50 text-amber-700 rounded-full",children:k.utm_medium})]}),k.tags&&k.tags.length>0&&u.jsxs("div",{className:"mt-2 flex items-center gap-1 flex-wrap",children:[u.jsx(R0,{className:"w-3 h-3 text-gray-400"}),k.tags.map((p,f)=>u.jsxs("span",{className:"text-xs text-gray-500",children:[p,f<k.tags.length-1?",":""]},f))]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:u.jsx("p",{className:"text-xs text-gray-400 font-mono truncate",children:k.full_url})})]},k.id))})})]})}function lo(t){if(t===0)return"0 B";const e=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(1))+" "+r[n]}function Mu(t){return t.startsWith("image/")?si:t.startsWith("video/")?b0:Sh}function K0({workspaceId:t,onBack:e}){var he;const[r,n]=P.useState([]),[s,i]=P.useState([]),[o,a]=P.useState(!0),[l,c]=P.useState(""),[d,h]=P.useState(null),[m,v]=P.useState("grid"),[w,S]=P.useState(null),[k,p]=P.useState(null),[f,g]=P.useState(null);P.useEffect(()=>{y(),x()},[t,d]);const y=async()=>{try{const N=X.from("creative_folders").select("*").eq("workspace_id",t).order("name");d?N.eq("parent_folder_id",d):N.is("parent_folder_id",null);const{data:K,error:fe}=await N;if(fe)throw fe;i(K||[])}catch(N){console.error("Error fetching folders:",N)}},x=async()=>{try{const N=X.from("creative_assets").select("*").eq("workspace_id",t).order("created_at",{ascending:!1});d?N.eq("folder_id",d):N.is("folder_id",null);const{data:K,error:fe}=await N;if(fe)throw fe;n(K||[])}catch(N){console.error("Error fetching assets:",N)}finally{a(!1)}},_=async N=>{p(N.id);try{const{data:K,error:fe}=await X.storage.from("creative-assets").download(N.storage_path);if(fe)throw fe;const ar=URL.createObjectURL(K),nt=document.createElement("a");nt.href=ar,nt.download=N.file_name,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(ar),g(N.id),setTimeout(()=>g(null),2e3)}catch(K){console.error("Error downloading asset:",K)}finally{p(null)}},j=N=>{const{data:K}=X.storage.from("creative-assets").getPublicUrl(N.storage_path);return K.publicUrl},E=N=>{if(N.thumbnail_path){const{data:K}=X.storage.from("creative-assets").getPublicUrl(N.thumbnail_path);return K.publicUrl}return N.file_type.startsWith("image/")?j(N):null},D=d?((he=s.find(N=>N.id===d))==null?void 0:he.name)||"Folder":null,O=r.filter(N=>{var K;return l===""||N.name.toLowerCase().includes(l.toLowerCase())||N.file_name.toLowerCase().includes(l.toLowerCase())||((K=N.tags)==null?void 0:K.some(fe=>fe.toLowerCase().includes(l.toLowerCase())))}),M=s.filter(N=>l===""||N.name.toLowerCase().includes(l.toLowerCase()));return u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("button",{onClick:()=>d?h(null):e(),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Kr,{className:"w-5 h-5 text-gray-600"})}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsx(si,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[u.jsx("h1",{className:"text-lg font-bold text-gray-900 truncate",children:"Creative"}),D&&u.jsxs(u.Fragment,{children:[u.jsx(Mn,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-lg font-bold text-gray-900 truncate",children:D})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded-lg transition-colors ${m==="grid"?"bg-primary/10 text-primary":"text-gray-500 hover:bg-gray-100"}`,children:u.jsx(N0,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-lg transition-colors ${m==="list"?"bg-primary/10 text-primary":"text-gray-500 hover:bg-gray-100"}`,children:u.jsx(O0,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search creative...",value:l,onChange:N=>c(N.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):M.length===0&&O.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(si,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500",children:l?"No creative assets match your search":"No creative assets found"})]}):u.jsxs(u.Fragment,{children:[M.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Folders"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(N=>u.jsxs("button",{onClick:()=>h(N.id),className:"flex items-center gap-2 p-3 bg-white rounded-xl border border-gray-200 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsx(E0,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:N.name})]},N.id))})]}),O.length>0&&u.jsxs("div",{children:[M.length>0&&u.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Files"}),m==="grid"?u.jsx("div",{className:"grid grid-cols-2 gap-3",children:O.map(N=>{const K=E(N),fe=Mu(N.file_type);return u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsx("button",{onClick:()=>S(N),className:"w-full aspect-square bg-gray-100 flex items-center justify-center overflow-hidden",children:K?u.jsx("img",{src:K,alt:N.name,className:"w-full h-full object-cover"}):u.jsx(fe,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{className:"p-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:lo(N.file_size)}),u.jsx("button",{onClick:()=>_(N),disabled:k===N.id,className:`mt-2 w-full flex items-center justify-center gap-2 py-1.5 rounded-lg text-xs font-medium transition-colors ${f===N.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:k===N.id?u.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-700"}):f===N.id?u.jsxs(u.Fragment,{children:[u.jsx(zn,{className:"w-3 h-3"}),"Downloaded"]}):u.jsxs(u.Fragment,{children:[u.jsx(ao,{className:"w-3 h-3"}),"Download"]})})]})]},N.id)})}):u.jsx("div",{className:"space-y-2",children:O.map(N=>{const K=E(N),fe=Mu(N.file_type);return u.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[u.jsx("button",{onClick:()=>S(N),className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:K?u.jsx("img",{src:K,alt:N.name,className:"w-full h-full object-cover"}):u.jsx(fe,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),u.jsx("p",{className:"text-xs text-gray-500",children:lo(N.file_size)})]}),u.jsx("button",{onClick:()=>_(N),disabled:k===N.id,className:`p-2 rounded-lg transition-colors flex-shrink-0 ${f===N.id?"bg-green-100 text-green-600":"hover:bg-gray-100 text-gray-500"}`,children:k===N.id?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-500"}):f===N.id?u.jsx(zn,{className:"w-4 h-4"}):u.jsx(ao,{className:"w-4 h-4"})})]},N.id)})})]})]})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl max-w-full max-h-full overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsx("h3",{className:"font-semibold text-gray-900 truncate pr-4",children:w.name}),u.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:u.jsx(U0,{className:"w-5 h-5 text-gray-600"})})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center bg-gray-100",children:w.file_type.startsWith("image/")?u.jsx("img",{src:j(w),alt:w.name,className:"max-w-full max-h-[60vh] object-contain"}):w.file_type.startsWith("video/")?u.jsx("video",{src:j(w),controls:!0,className:"max-w-full max-h-[60vh]"}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Sh,{className:"w-16 h-16 text-gray-400 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500",children:w.file_name})]})}),u.jsxs("div",{className:"p-4 border-t border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:w.file_name}),u.jsx("p",{className:"text-xs text-gray-500",children:lo(w.file_size)})]})}),w.description&&u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),u.jsx("button",{onClick:()=>_(w),disabled:k===w.id,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors",children:k===w.id?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsxs(u.Fragment,{children:[u.jsx(ao,{className:"w-4 h-4"}),"Download"]})})]})]})})]})}const G0=()=>{try{const t=localStorage.getItem("currentView");if(t){const e=JSON.parse(t);if(e.type==="audienceList"||e.type==="playbookList"||e.type==="trackingLinks"||e.type==="creativeGallery")return{type:e.type};if(e.type==="audienceDetail"&&e.audienceId)return{type:"dashboard"};if(e.type==="playbookDetail"&&e.playbookId)return{type:"dashboard"}}}catch(t){console.error("Error loading initial view:",t)}return{type:"dashboard"}};function Q0(){const[t,e]=P.useState(G0()),[r,n]=P.useState([]),[s,i]=P.useState(null),[o,a]=P.useState([]),[l,c]=P.useState([]),[d,h]=P.useState(!0),[m,v]=P.useState(!1),[w,S]=P.useState(!1);P.useEffect(()=>{k()},[]),P.useEffect(()=>{s&&(p(),f(),localStorage.setItem("selectedWorkspaceId",s.id))},[s]),P.useEffect(()=>{if(w||!s)return;const x=localStorage.getItem("currentView");if(x&&o.length>0&&l.length>0)try{const _=JSON.parse(x);if(_.workspaceId!==s.id){S(!0);return}if(_.type==="audienceDetail"&&_.audienceId){const j=o.find(E=>E.id===_.audienceId);j&&e({type:"audienceDetail",audience:j})}else if(_.type==="playbookDetail"&&_.playbookId){const j=l.find(E=>E.id===_.playbookId);j&&e({type:"playbookDetail",playbook:j})}S(!0)}catch(_){console.error("Error restoring view:",_),S(!0)}else s&&S(!0)},[o,l,s,w]),P.useEffect(()=>{s&&(t.type==="audienceDetail"?localStorage.setItem("currentView",JSON.stringify({type:"audienceDetail",audienceId:t.audience.id,workspaceId:s.id})):t.type==="playbookDetail"?localStorage.setItem("currentView",JSON.stringify({type:"playbookDetail",playbookId:t.playbook.id,workspaceId:s.id})):t.type==="audienceList"?localStorage.setItem("currentView",JSON.stringify({type:"audienceList",workspaceId:s.id})):t.type==="playbookList"?localStorage.setItem("currentView",JSON.stringify({type:"playbookList",workspaceId:s.id})):t.type==="trackingLinks"?localStorage.setItem("currentView",JSON.stringify({type:"trackingLinks",workspaceId:s.id})):t.type==="creativeGallery"?localStorage.setItem("currentView",JSON.stringify({type:"creativeGallery",workspaceId:s.id})):localStorage.setItem("currentView",JSON.stringify({type:"dashboard",workspaceId:s.id})))},[t,s]);const k=async()=>{try{const{data:{user:x}}=await X.auth.getUser();if(!x)return;const{data:_,error:j}=await X.from("workspace_members").select("workspace_id, role, workspaces(*)").eq("user_id",x.id);if(j)throw j;const E=(_||[]).map(D=>({...D.workspaces,role:D.role}));if(n(E),E.length>0){const D=localStorage.getItem("selectedWorkspaceId"),O=E.find(M=>M.id===D);i(O||E[0])}}catch(x){console.error("Error fetching workspaces:",x)}finally{h(!1)}},p=async()=>{if(s)try{const{data:x,error:_}=await X.from("audiences").select("*").eq("workspace_id",s.id).order("created_at",{ascending:!1});if(_)throw _;a(x||[])}catch(x){console.error("Error fetching audiences:",x)}},f=async()=>{if(s)try{const{data:x,error:_}=await X.from("playbooks").select("*").eq("workspace_id",s.id).order("updated_at",{ascending:!1});if(_)throw _;c(x||[])}catch(x){console.error("Error fetching playbooks:",x)}},g=async()=>{await X.auth.signOut()},y=x=>{i(x),v(!1),e({type:"dashboard"}),S(!1),localStorage.removeItem("currentView")};return d?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx(jh,{className:"h-8 w-8 text-primary animate-spin"})}):t.type==="audienceList"?u.jsx(M0,{audiences:o,onSelectAudience:x=>e({type:"audienceDetail",audience:x}),onBack:()=>e({type:"dashboard"})}):t.type==="audienceDetail"?u.jsx(W0,{audience:t.audience,onBack:()=>e({type:"audienceList"})}):t.type==="playbookList"?u.jsx(V0,{playbooks:l,onSelectPlaybook:x=>e({type:"playbookDetail",playbook:x}),onBack:()=>e({type:"dashboard"})}):t.type==="playbookDetail"?u.jsx(H0,{playbook:t.playbook,onBack:()=>e({type:"playbookList"})}):t.type==="trackingLinks"&&s?u.jsx(q0,{workspaceId:s.id,onBack:()=>e({type:"dashboard"})}):t.type==="creativeGallery"&&s?u.jsx(K0,{workspaceId:s.id,onBack:()=>e({type:"dashboard"})}):u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("img",{src:"/wonderflow-coloricon.png",alt:"Wonderflow",className:"w-9 h-9"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&s&&u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>v(!m),className:"flex items-center gap-2 px-3 py-1 bg-white text-gray-700 hover:text-gray-900 rounded-lg transition-colors text-sm",children:[u.jsx(_0,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium max-w-[150px] truncate",children:s.name}),u.jsx(ni,{className:`w-4 h-4 text-gray-500 transition-transform ${m?"rotate-180":""}`})]}),m&&u.jsx("div",{className:"absolute top-full right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto z-50",children:r.map(x=>u.jsx("button",{onClick:()=>y(x),className:`w-full text-left px-4 py-2.5 hover:bg-gray-50 transition-colors ${(s==null?void 0:s.id)===x.id?"bg-primary/10":""}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:`font-medium truncate ${(s==null?void 0:s.id)===x.id?"text-primary":"text-gray-900"}`,children:x.name}),u.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded-full uppercase font-semibold ml-2",children:x.role})]})},x.id))})]}),u.jsx("a",{href:"https://app.wonderflow.io",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Open App",children:u.jsx(C0,{className:"w-4 h-4 text-gray-600"})}),u.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Sign out",children:u.jsx(L0,{className:"w-4 h-4 text-gray-600"})})]})]}),u.jsxs("div",{className:"relative bg-primary/5 border border-primary px-4 py-2 rounded-2xl my-2",children:[u.jsx("p",{className:"text-sm font-semibold text-primary-dark",children:"Reference Audiences & Copy As You Work"}),u.jsx("p",{className:"text-xs text-primary-dark",children:"Open this panel while creating ads, emails, or landing pages. Pull audience insights and approved messaging without switching tools."})]})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:s?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h2",{className:"text-md font-bold text-gray-900",children:"Audiences"}),o.length>0&&u.jsxs("button",{onClick:()=>e({type:"audienceList"}),className:"text-xs text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",u.jsx(Mn,{className:"w-4 h-4"})]})]}),o.length===0?u.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center",children:u.jsx("p",{className:"text-gray-500",children:"No audiences found in this workspace"})}):u.jsxs("button",{onClick:()=>e({type:"audienceDetail",audience:o[0]}),className:"w-full bg-white rounded-2xl shadow-sm border border-gray-200 p-5 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o[0].name}),o[0].notes&&u.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o[0].notes}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o[0].goal&&u.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full capitalize",children:o[0].goal}),o[0].funnel_stage&&u.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full capitalize",children:o[0].funnel_stage})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",new Date(o[0].created_at).toLocaleDateString()]})]})]}),u.jsxs("section",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h2",{className:"text-md font-bold text-gray-900",children:"Playbooks"}),l.length>0&&u.jsxs("button",{onClick:()=>e({type:"playbookList"}),className:"text-xs text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",u.jsx(Mn,{className:"w-4 h-4"})]})]}),l.length===0?u.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center",children:u.jsx("p",{className:"text-gray-500",children:"No playbooks found in this workspace"})}):u.jsxs("button",{onClick:()=>e({type:"playbookDetail",playbook:l[0]}),className:"w-full bg-white rounded-2xl shadow-sm border border-gray-200 p-5 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l[0].name})}),l[0].description&&u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:l[0].description}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Updated ",new Date(l[0].updated_at).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:()=>e({type:"trackingLinks"}),className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(fa,{className:"w-5 h-5 text-blue-600"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Tracking Links"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Copy UTM links for campaigns"})]}),u.jsxs("button",{onClick:()=>e({type:"creativeGallery"}),className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 hover:shadow-md hover:border-primary transition-all text-left",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:u.jsx(si,{className:"w-5 h-5 text-green-600"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Creative"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Browse and download assets"})]})]})]}):u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500",children:"Select a workspace"})})})]})}function J0(){const[t,e]=P.useState(null),[r,n]=P.useState(!0);return P.useEffect(()=>{X.auth.getSession().then(({data:{session:i}})=>{e(i),n(!1)});const{data:{subscription:s}}=X.auth.onAuthStateChange((i,o)=>{(async()=>e(o))()});return()=>s.unsubscribe()},[]),r?u.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?u.jsx(Q0,{}):u.jsx(y0,{})}Zd(document.getElementById("root")).render(u.jsx(P.StrictMode,{children:u.jsx(J0,{})}));
